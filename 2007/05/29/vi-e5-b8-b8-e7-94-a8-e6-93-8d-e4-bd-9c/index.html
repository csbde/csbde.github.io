<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="vim,PHP,CMD,Shell," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content=")文件操作vi FileName 打开文件 FileName,并将光标置于第一行首。vi +n FileName 打开文件 FileName,并将光标置于第 n 行首。vi + FileName 打开文件 FileName,并将光标置于最后一行。vi + /pattern File 打开文件 File,并将光标置于其中第一个于 pattern 匹配的字符串处。vi �Cr FileName 在上次">
<meta name="keywords" content="vim,PHP,CMD,Shell">
<meta property="og:type" content="article">
<meta property="og:title" content="vi常用操作">
<meta property="og:url" content="http://yoursite.com/2007/05/29/vi-e5-b8-b8-e7-94-a8-e6-93-8d-e4-bd-9c/index.html">
<meta property="og:site_name" content="九王爷">
<meta property="og:description" content=")文件操作vi FileName 打开文件 FileName,并将光标置于第一行首。vi +n FileName 打开文件 FileName,并将光标置于第 n 行首。vi + FileName 打开文件 FileName,并将光标置于最后一行。vi + /pattern File 打开文件 File,并将光标置于其中第一个于 pattern 匹配的字符串处。vi �Cr FileName 在上次">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-09-26T13:41:35.784Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vi常用操作">
<meta name="twitter:description" content=")文件操作vi FileName 打开文件 FileName,并将光标置于第一行首。vi +n FileName 打开文件 FileName,并将光标置于第 n 行首。vi + FileName 打开文件 FileName,并将光标置于最后一行。vi + /pattern File 打开文件 File,并将光标置于其中第一个于 pattern 匹配的字符串处。vi �Cr FileName 在上次">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2007/05/29/vi-e5-b8-b8-e7-94-a8-e6-93-8d-e4-bd-9c/"/>





  <title> vi常用操作 | 九王爷 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">九王爷</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">九王爷的府邸</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2007/05/29/vi-e5-b8-b8-e7-94-a8-e6-93-8d-e4-bd-9c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="九王爷">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九王爷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                vi常用操作
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2007-05-29T13:25:00+08:00">
                2007-05-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><span class="postbody">)文件操作<br>vi FileName 打开文件 FileName,并将光标置于第一行首。<br>vi +n FileName 打开文件 FileName,并将光标置于第 n 行首。<br>vi + FileName 打开文件 FileName,并将光标置于最后一行。<br>vi + /pattern File 打开文件 File,并将光标置于其中第一个于 pattern 匹配的字符串处。<br>vi �Cr FileName 在上次正用 vi 编辑 FileName 发生系统崩溃后,恢复FileName。<br>vi File1 … Filen 打开多个文件,依次对之进行编辑。 </span><span class="postbody">:%!xxd 按十六进制查看当前文件<br>:%!xxd -r 从十六进制返回正常模式</span><span class="postbody">:n1,n2 co n3 将 n1 行到 n2 行之间的内容拷贝到第 n3 行下。<br>:n1,n2 m m3 将 n1 行到 n2 行之间的内容移至第 n3 行下。<br>:n1,n2 d 将 n1 行到 n2 行之间的内容删除。<br>:n1,n2 w filename 将 n1 行到 n2 行之间的内容保存到文件 filename 中<br>:n1,n2 w! Command 将文件中n1行到n2行的内容作为 Command的输入并执行之，<br>若不指定 n1、n2，则将整个文件内容作为 Command 的输入。<br>:r! Command 将命令 Command 的输出结果放到当前行。<br>:nr &lt;文件&gt; 把&lt;文件&gt;插入到第n行<br>:so &lt;文件&gt; 读取&lt;文件&gt;,再执行文件里面的命令(文件中的命令应该都是一些ex命令)<br>:l1,l2w &lt;文件&gt; 把第l1和第l2行之间的文本写到&lt;文件&gt;中去<br>:w &gt;&gt; &lt;文件&gt; 添加到&lt;文件&gt;末尾. 也可以使用行号<br>:e! 重新编辑当前文件,忽略所有的修改</span></p>
<p>・(、[、{、}、]、)对应显示<br>% 显示当前(、[、{ 、}、] 、)的对应项<br>) 显示对应的(<br>) 显示对应的[<br>] 显示对应的{</p>
<p>・(、[、{、}、]、)内数据选择<br>daB 删除{}及其内的内容 (在非v可视模式下)<br>diB 删除{}中的内容<br>ab 选择()中的内容<br>ib 选择()中的内容( 不含() )</p>
<p>aB 选择{}中的内容<br>iB 选择{}中的内容( 不含{} )</p>
<p>・语法提示与自动补齐</p>
<p>★ &lt;C-N&gt;&lt;C-P&gt; 插入模式下的单词自动完成<br>★ &lt;C-X&gt;&lt;C-L&gt; 行自动完成(超级有用)</p>
<p>・设置ctags</p>
<p>#ctags -f /usr/share/vim/vim63/funcs.tags -R /opt/j2sdk/src /usr/src/kernels/2.6.9-5.EL-i686</p>
<p>^p 自动补齐上下文已有相近项<br>^n 自动补齐~/.tags中的相近函数<br>^[ 显示~/.tags中的光标下的函数的原型,<br>按^t退出函数<br>:pta 函数名 预览窗口快速打开相应函数所在文件，并将光标定位在对应函数的开头<br>K 显示光标下的C函数的man说明手册</p>
<p>・变量定位<br>gd 转到光标下局部变量的定义处<br>Gd 转到光标下全局变量的定义处</p>
<p>・编译选项<br>:cn 命令会把你带到下一个出错地点，而不考虑它在什么文件里。<br>:cc 命令会向你显示当前错误的编译器输出信息；<br>:cl 会生成一个列有项目所有错误的列表，以供浏览这些错误</p>
<p>3]光标移动<br>・字符<br>h 光标左移一个字符。<br>l 光标右移一个字符。</p>
<p>・字<br>w 或 W 光标右移一个字至字首。<br>B 或 b 光标左移一个字至字首。<br>E 或 e 光标右移一个字至字尾。</p>
<p>・句} 光标移至句尾。<br>( 光标移至句首。</p>
<p>・段) 光标移至段落开头。<br>{ 光标移至段落结尾。</p>
<p>・行k 或 Ctrl+p 光标上移一行。<br>j 或 Ctrl+n 光标下移一行。<br>Enter 光标下移一行。<br>nG 光标移至第 n 行首。<br>n+ 光标下移 n 行。<br>n- 光标上移 n 行。<br>n$ 光标移至第 n 行尾。<br>0 光标移至当前行首。<br>$ 光标移至当前行尾。</p>
<p>・屏幕<br>H 光标移至屏幕顶行。<br>M 光标移至屏幕中间行。<br>L 光标移至屏幕最后行。<br>Ctrl+u 向文件首翻半屏。<br>Ctrl+d 向文件尾翻半屏。<br>Ctrl+f 向文件尾翻一屏。<br>Ctrl+b 向文件首翻一屏。<br>nz 将第 n 行滚至屏幕顶部。不指定 n 时将当前行滚至屏幕顶。</p>
<p>4}插入</p>
<h1 id="在文件中插入行号-不是显示行号，是插入！"><a href="#在文件中插入行号-不是显示行号，是插入！" class="headerlink" title="在文件中插入行号(不是显示行号，是插入！)"></a>在文件中插入行号(不是显示行号，是插入！)</h1><p>★:g/^/exec “s/^/“.strpart(line(“.”).” “, 0, 4)</p>
<p>・光标<br>i 在光标前插入。<br>a 在光标后插入。</p>
<p>・行<br>I 在当前行首插入。<br>A 在当前行尾插入。<br>o 在当前行之下一新行插入。<br>O 在当前行之上新开一行插入。</p>
<p>5)替换<br>r 替换当前字符。<br>R 替换当前字符及其后的字符，直至按 ESC 键。<br>s 从当前光标位置处开始，以输入的文本代替指定数目的字符。<br>S 删除指定数目的行，并以所输入的文本代替。</p>
<p>6)修改<br>ncw 或 nCW 修改指定数目的字符。<br>nCC 修改指定数目的行。<br>:r filename 将文件 filename 插入在当前行之下</p>
<p>7)查找替换</p>
<p>/&lt;C-R&gt;&lt;C-W&gt; 把狭义单词 &lt;cword&gt; 写到 搜索命令 行<br>/&lt;C-R&gt;&lt;C-A&gt; 把广义单词 &lt;cWORD&gt; 写到 搜索命令 行</p>
<p>:g/str/s/str1/str2/g<br>第一个g表示对每一个包括s1的行都进行替换，<br>第二个g表示对每一行的所有进行替换<br>包括str的行所有的str1都用str2替换<br>:%s/f $/for$/g 将每一行尾部的”f “（f键和空格键）替换为for<br>:%s/^/mv /g 在每一行的头部添加”mv “（mv键和空格键）</p>
<p>:s/fred/&lt;c-r&gt;a/g 替换fred成register a中的内容，呵呵</p>
<p>:g/&lt;input|&lt;form/p 显示含&lt;input或&lt;form的行</p>
<h1 id="替换一个visual区域"><a href="#替换一个visual区域" class="headerlink" title="替换一个visual区域"></a>替换一个visual区域</h1><h1 id="选择一个区域，然后输入-s-Emacs-Vim-等等，vim会自动进入-模式"><a href="#选择一个区域，然后输入-s-Emacs-Vim-等等，vim会自动进入-模式" class="headerlink" title="选择一个区域，然后输入 :s/Emacs/Vim/ 等等，vim会自动进入:模式"></a>选择一个区域，然后输入 :s/Emacs/Vim/ 等等，vim会自动进入:模式</h1><p>:’&lt;,’&gt;s/Emacs/Vim/g 前面的’&lt;,’&gt;是vim自动添加的</p>
<h1 id="在多个文档中搜索"><a href="#在多个文档中搜索" class="headerlink" title="在多个文档中搜索"></a>在多个文档中搜索</h1><p>:bufdo /searchstr<br>:argdo /searchstr</p>
<p>复制与剪切<br>xp 交换前后两个字符的位置<br>ddp 上下两行的位置交换<br>:g/fred/t$ 拷贝行，从fred到文件末尾(EOF)</p>
<p>9)窗口操作<br>:vne [filename]<br>:sp [filename]<br>:S [filename]<br>:new [filename]<br>:^w + ^r 交换两个窗口的位置<br>^w = 窗口等宽<br>:res -n 窗口高度减小n<br>:res +n 窗口高度增大n<br>:vert res -n<br>:vert res +n</p>
<p>10)DOS格式文本转成Unix格式文本<br>:1,$s/^M//g</p>
<p>11)书签<br>在阅读和编写大的程序文件时，利用标记（书签）功能定位是十分有帮助的。</p>
<p>将光标移到想做标记的位置。假如做一个名为”debug1”的标记，那么用户可在命令模式下输入做标记的命令”mdebug1”，然后敲入回车键，一个名为”debug1”的标记就做好了。<br>接下来用户可以随意将光标移到其它的位置，当在命令模式下输入”`debug1”后，就能快速回到”debug1”的标记所在行的行首。</p>
<p>12)删除操作</p>
<p>:%s/r//g 删除DOS方式的回车^M<br>:%s= *$== 删除行尾空白</p>
<p>:%s/^(.*)n1/1$/ 删除重复行</p>
<p>:%s/^.{-}pdf/new.pdf/ 只是删除第一个pdf</p>
<p>:%s/&lt;!–_.{-}–&gt;// 又是删除多行注释（咦？为什么要说「又」呢？）</p>
<p>:g/^s*$/d 删除所有空行<br>:g!/^dd/d 删除不含字符串’dd’的行<br>:v/^dd/d 同上 （译释：v == g!，就是不匹配！）</p>
<p>:g/str1/,/str2/d 删除所有第一个含str1到第一个含str2之间的行</p>
<p>:v/./.,/./-1join 压缩空行<br>:g/^$/,/./-j 压缩空行</p>
<p>ndw 或 ndW 删除光标处开始及其后的 n-1 个字符。<br>d0 删至行首。<br>d$ 删至行尾。<br>ndd 删除当前行及其后 n-1 行。<br>x 或 X 删除一个字符。<br>Ctrl+u 删除输入方式下所输入的文本。<br>^R 恢复u的操作<br>J 把下一行合并到当前行尾<br>V 选择一行<br>^V 按下^V后即可进行矩形的选择了<br>aw 选择单词<br>iw 内部单词(无空格)<br>as 选择句子<br>is 选择句子(无空格)<br>ap 选择段落<br>ip 选择段落(无空格)<br>D 删除到行尾<br>x,y 删除与复制包含高亮区</p>
<p>dl 删除当前字符（与x命令功能相同）<br>d0 删除到某一行的开始位置<br>d^ 删除到某一行的第一个字符位置（不包括空格或TAB字符）<br>dw 删除到某个单词的结尾位置<br>d3w 删除到第三个单词的结尾位置<br>db 删除到某个单词的开始位置<br>dW 删除到某个以空格作为分隔符的单词的结尾位置<br>dB 删除到某个以空格作为分隔符的单词的开始位置<br>d7B 删除到前面7个以空格作为分隔符的单词的开始位置<br>d） 删除到某个语句的结尾位置<br>d4） 删除到第四个语句的结尾位置<br>d（ 删除到某个语句的开始位置<br>d） 删除到某个段落的结尾位置<br>d{ 删除到某个段落的开始位置<br>d7{ 删除到当前段落起始位置之前的第7个段落位置<br>dd 删除当前行<br>d/text 删除从文本中出现”text”中所指定字样的位置，<br>一直向前直到下一个该字样所出现的位置（但不包括该字样）之间的内容<br>dfc 删除从文本中出现字符”c”的位置，一直向前直到下一个该字符所出现的位置（包括该字符）之间的内容<br>dtc 删除当前行直到下一个字符”c”所出现位置之间的内容<br>D 删除到某一行的结尾<br>d$ 删除到某一行的结尾<br>5dd 删除从当前行所开始的5行内容<br>dL 删除直到屏幕上最后一行的内容<br>dH 删除直到屏幕上第一行的内容<br>dG 删除直到工作缓存区结尾的内容<br>d1G 删除直到工作缓存区开始的内容<br>修改命令操作<br>r 更改当前字符<br>cw 修改到某个单词的结尾位置<br>c3w 修改到第三个单词的结尾位置<br>cb 修改到某个单词的开始位置<br>cW 修改到某个以空格作为分隔符的单词的结尾位置<br>cB 修改到某个以空格作为分隔符的单词的开始位置<br>c7B 修改到前面7个以空格作为分隔符的单词的开始位置<br>c0 修改到某行的结尾位置<br>c} 修改到某个语句的结尾位置<br>c4} 修改到第四个语句的结尾位置<br>c（ 修改到某个语句的开始位置<br>c） 修改到某个段落的结尾位置<br>c{ 修改到某个段落的开始位置<br>c7{ 修改到当前段落起始位置之前的第7个段落位置<br>ctc 修改当前行直到下一个字符c所出现位置之间的内容<br>C 修改到某一行的结尾<br>cc 修改当前行<br>5cc 修改从当前行所开始的5行内容<br>. 重复上一次修改！</p>
<p>13}Set 选项设置<br>set all 列出所有选项设置情况。<br>set term 设置终端类型。<br>set ignorecase 在搜索中忽略大小写。<br>set list 显示制表位(^I)和行尾标志($)。<br>set number 显示行号。<br>set showmode 示用户处在什么模式下<br>set report 显示由面向行的命令修改国的行数目。<br>set terse 显示简短的警告信息。<br>set warn 在转到别的文件时，若没有保存当前文件则显示 No write 信息。<br>set autowrite 在”:n”和”:!”命令之前都自动保存文件<br>set nomagic 允许在搜索模式中，使用前面不带的特殊字符。<br>set nowrapscan 禁止 vi 在搜索到达文件两端时,又从另一端开始。<br>set mesg 允许 vi 显示其他用户用 write 写到自己终端上的信息。</p>
<p>autoindent (ai) noai 使新行自动缩进,和上(下)行的位置对齐<br>autoprint (ap) ap 每条命令之后都显示出修改之处<br>autowrite (aw) noaw 在:n,:!命令之前都自动保存文件<br>beautify (bf) nobf 在输入的时候忽略所有的控制字符(除了制表键(tab),换行(newline),进纸(formfeed))<br>directory= (dir=) /tmp 存放缓冲区的目录名<br>edcompatible noedcompatible 在替换的时候使用类ed的用法<br>errorbells (eb) errorbells 出错的时候响铃<br>exrc (ex) noexrc 允许在主目录(home)外面之外放.exrc文件<br>hardtabs= (ht=) 8 设置硬制表的边界<br>ignore case (ic) noic 正规式里忽略大小写<br>lisp nolisp 打开lisp模式<br>list nolist 显示所有的制表键和行的结尾<br>magic agic 可以使用更多的正规表达式<br>mesg mesg 允许向终端发送消息<br>number (nu) nonumber 显示行号<br>open open 允许开放和可视化<br>optimize (opt) optimize 优化吞吐量,打印时不发回车<br>paragraphs= (para=) IPLPPPQPPLIbp 设置{ &amp; }的分界符<br>prompt prompt 命令模式下的输入给出:的提示符<br>readonly (ro) noro 除非用!号否则不准保存文件<br>redraw noredraw 当编辑的时候重绘屏幕<br>remap remap 允许宏指向其他的宏<br>report= 5 如果影响的行数&gt;这个数的话就报告<br>scroll 1/2 window 下卷屏幕时滚动屏幕的数目, 同样这也是z命令输出的行数(z 输出2倍滚屏的大小)<br>sections= SHNHH HU 定义节的末尾(当使用命令[[ 和 ]] 时)<br>shell= (sh=) /bin/sh 缺省的SHELL,如果设置了环境变量SHELL的话,就使用变量<br>shiftwidth= (sw=) 8 当使用移动(shift)命令时移动的字符数<br>showmatch (sm) nosm 显示{, }, (, ), [, 或者 ] 的匹配情况<br>showmode noshowmode 显示你处在什么模式下面<br>slowopen (slow) 插入之后不要立刻更新显示<br>tabstop= (ts=) 8 设置制表停止位(tabstop)的长度<br>taglength= (tl=) 0 重要标记的字符个数(0表示所有的字符)<br>tags= tag, /usr/lib/tags 定义包含标记的文件路径<br>term= 设置终端类型<br>terse noterse 显示简短的错误信息<br>timeout (to) timeout 一秒钟后键盘映射超时<br>ttytype= 设置终端类型<br>warn warn 显示”No write since last change”信息<br>window= (w=) 可视模式下窗口的行数<br>wrapmargin= (wm=) 0 右边距,大于0的话最右边的单词将折行,留出n个空白位置<br>wrapscan (ws) ws 查找到文件尾后再重头开始<br>writeany (wa) nowa 可以保存到任意一个文件去</p>
<p>14}特殊字符<br>^ 匹配字符串位于行首。<br>$ 匹配字符串位于行尾。<br>. 用在模式串中，表示任何单个字符。<br>在命令模式下，重复上次的命令。</p>
<ul>
<li>在模式串中，表示其前字符可出现任意多次。<br>[] 用在模式串中,表示指定方位内字符，其中可用-表示一个字<br>符范围，用^表示不在某个范围内的字符。<br>ESC 从插入状态转换到命令状态<br>^[ 功能同 ESC</li>
</ul>
<p>15]大小写转换<br>guu 行小写<br>gUU 行大写<br>g~~ 行翻转（当然指大小写啦）</p>
<p>guw 字小写(狭义字) 译注：建议对比iw<br>gUw 字大写(狭义字)<br>g~w 字翻转(狭义字)</p>
<p>vEU 字大写(广义字)<br>vE~ 字翻转(广义字)</p>
<p>ggguG 把整个文章全部小写（ft!bt!）</p>
<p>16) 跳转足迹’. 跳到最后修改的那一行 (超级有用)(ft,怎么又是这个评价)<br>`. 不仅跳到最后修改的那一行，还要定位到修改点<br>&lt;C-O&gt; 依次沿着你的跳转记录向回跳 (从最近的一次开始)<br>&lt;C-I&gt; 依次沿着你的跳转记录向前跳<br>:ju(mps) 列出你跳转的足迹</p>
<p>17)命令历史<br>:history 列出历史命令记录<br>:his c 命令行命令历史<br>:his s 搜索命令历史<br>q/ 搜索命令历史的窗口<br>q 命令行命令历史的窗口<br>:&lt;C-F&gt; 历史命令记录的窗口</p>
<p>18]寄存器</p>
<h1 id="列出寄存器-Registers"><a href="#列出寄存器-Registers" class="headerlink" title="列出寄存器(Registers)"></a>列出寄存器(Registers)</h1><p>:reg 显示所有当前的registers<br>“1p 表示引用register，1表示一个名字叫做1的register，p就是粘贴（paste）命令</p>
<p>译释：<br>“也用来定义register<br>先输入 “,表示定义register<br>然后输入名字，如0~9,a~z<br>然后执行删除或复制命令，如dd或y，<br>或者是visual模式下的d(删除选中的部分)或y(复制选中的部分)<br>则被删除或复制的部分就被存入了这个命名的register</p>
<p>观察：一个特殊的register, “” ，里面存储了一个匿名的删除/复制<br>在你执行dd或y的时候，被作用的部分被存到了””中</p>
<p>19}命令行<br>“ayy@a 把当前行作为一个Vim命令来执行<br>译释：”ayy 是定义当前行到register a，然后@a是执行register a中存储的指令</p>
<p>10yy copy 当前行以下10行</p>
<p>11} 排序<br>:%!sort -u 使用sort程序排序整个文件（用结果重写文件）<br>!1） sort -u 排序当前段落 (只能在normal模式下使用!!)<br>:.,+5!sort 排序当前行及以下5行</p>
<p>20） 列操作</p>
<p>:%s= [^ ]+$=&amp;&amp;= 复制最后一列<br>:%s= f+$=&amp;&amp;= 一样的功能<br>:%s= S+$=&amp;&amp; ft,还是一样</p>
<p>:s/(.<em>).</em>)/2”1/ 颠倒用:分割的两个字段</p>
<p>:%s(w+s+){2})str1:1str2: 处理列，替换所有在第三列中的str1</p>
<p>:%sw+)(.*s+)(w+)$:321: 交换第一列和最后一列 (共4列)</p>
<p>・.vimrc</p>
<p>“ Use Vim settings, rather then Vi settings (much better!).<br>set nocompatible</p>
<p>“c风格的缩进<br>:set expandtab “不使用tab只使用空格<br>:set cindent shiftwidth=4</p>
<p>“自动缩进<br>:set ai</p>
<p>“语法<br>“:set filetype=java<br>:set syntax=java</p>
<p>“键入)、] 、}，显示(、[、{<br>:set showmatch</p>
<p>“手工定义折叠<br>:set foldmethod=manual</p>
<p>“标签文件位置<br>set tags=/usr/share/vim/vim63/funcs.tags</p>
<p>“在插入模式下通过按[Ctrl]N自动地将任何类、方法或者字段名补齐<br>set complete+=k</p>
<p>“ 不要用声音烦我！<br>set visualbell</p>
<p>“历史<br>:set history=50</p>
<p>“显示行列位置<br>:set ruler</p>
<p>“设置字符编码<br>set fileencodings=gb2312<br>“set encoding=euc-cn</p>
<p>“设置ruler<br>set ruler</p>
<p>“显示当前命令<br>set showcmd</p>
<p>“incsearch<br>set incsearch</p>
<p>“ allow backspacing over everything in insert mode<br>set backspace=indent,eol,start</p>
<p>“自动检测文件类型<br>:filetype on</p>
<p>“””””””””””快捷键定义”””””””””””””””””””””””””””””””””””””””””””””””””””””””””””<br>if version &gt;= 600</p>
<p>“查找<br>“map &lt;C-H&gt; /</p>
<p>“查找函数原型<br>map &lt;C-H&gt; yiw/^(s)<em>(sub)|(function)(s)</em>&lt;C-r&gt;”&lt;CR&gt;</p>
<p>“继续查找<br>map &lt;F3&gt; n</p>
<p>“使用&lt;F10&gt;显示类、属性、方法列表<br>map &lt;F2&gt; :Tlist&lt;CR&gt;</p>
<p>“ 用compiler定义的编译程序来编译当前程序<br>“map &lt;F9&gt; :make “%”&lt;CR&gt;</p>
<p>“使用&lt;F11&gt;来进行php语法检测<br>map &lt;F11&gt; :!php -l “%” &lt;CR&gt;</p>
<p>map ;w :call FormatText()&lt;CR&gt;</p>
<p>“查找当前光标下的字<br>map &lt;F4&gt; /&lt;C-R&gt;&lt;C-W&gt;&lt;CR&gt;<br>endif<br>“””””””””””::快捷键定义”””””””””””””””””””””””””””””””””””””””””””””””””””””””””</p>
<p>“””””””””””格式化文件”””””””””””””””””””””””””””””””””””””””””””””””””””””””””””<br>function FormatText()<br>:%s/t/ /g “把t换成4个空格<br>:%s/ *$//g “去掉行尾空格</p>
<p>endfunction</p>
<p>“””””””””””格式化文件”””””””””””””””””””””””””””””””””””””””””””””””””””””””””””</p>
<p>“”””””””””显示行尾的tab和多余空格”””””””””””””””””””””””””””””””””””””””””””””””<br>set listchars=tab:&gt;-,trail:~<br>set list<br>syntax match Trail “ +$”<br>highlight def link Trail Todo</p>
<p>“”””””””””::显示行尾的tab和多余空格”””””””””””””””””””””””””””””””””””””””””””””</p>
<p>function LastMod()<br>if line(“$”) &gt; 5<br>let l = 5<br>else<br>let l = line(“$”)<br>endif<br>exe “1,” . l . “/CnsProgCMTime/s/CnsProgCMTime .*/CnsProgCMTime “ . strftime(“%Y-%m-%d %H:%M:%S”).”/e”<br>endfunction</p>
<p>“map &lt;F5&gt; :call LastMod()&lt;CR&gt;</p>
<p>“””””””””””自动加注释的<em>星号””””””””””””””””””””””””””””””””””””””””””””””””””””<br>“使用如/</em> … <em>/ 的注释时,r在插入模式下回车时插入</em> ;<br>“o 在普通模式下，使用 “o” 或 “O” 时插入*<br>:set formatoptions=tcro</p>
<p>“””””””””””::自动加注释的*星号””””””””””””””””””””””””””””””””””””””””””””””””””</p>
<p>vi扩展的正则表达式</p>
<p>| 指示交替，如home|house 指匹配home或house</p>
<p>() 用于分组，如home|house可以写为ho(me|use)<br><em>可以用到()上(home|house)</em> 可以匹配home, homehouse,househome, homehousehomehouse</p>
<p>(…) 实际匹配的文本可以使用1、2等在替换命令的替换部分进行检索</p>
<ul>
<li>可匹配正则表达式的一次或多次出现，既可以是单个字符也可以是()或(…)括起的内容，至少匹配一次<br>ho(use|me)+ 指至少是house或home不允许是空</li>
</ul>
<p>? 指前面正则表达式的零次或一次出现，表示出现或未出现。如free?d 将匹配fred或freed除此不能匹配其他文本</p>
<p>{…} 定义区间表达式。区间表达式描述了表示重复次数的计数数字。 同{…}<br>{n} (home|house){2} 只能匹配homehome, homehouse, househome, househouse<br>{n,}<br>{n,m}<br>{,n}</p>
<p>编译相关</p>
<p>・用编译器来编译 当前文件<br>:!perl -c %<br>:!php -l % 用php来检查错误<br>:!php -q % 用php来运行程序</p>
<p>・编译当前程序为a.out并执行该./a.out<br>:!gcc % -o a.out &amp;&amp; ./a.out<br>执行结果<br>old umask is %#0<br>new umask is %#0</p>
<p>・编译错误信息<br>:cl! 列出所有错误信息的详细列表</p>
<p>:cl 列出当前条错误信息<br>:cn 列出下一条错误信息<br>:cp 列出上一条错误信息</p>
<p>:cnew 最新错误信息条数<br>:cold 旧的错误信息条数</p>
<p>:cwin 或 :copen 打开错误信息窗口<br>:cclose 关闭上面打开的信息窗口</p>
<p>自动补齐</p>
<p>CTRL-X CTRL-F 文件名<br>CTRL-X CTRL-L 整行<br>CTRL-X CTRL-D 宏定义 (并搜索所包含的文件)<br>CTRL-X CTRL-I 当前文件以及所包含的文件<br>CTRL-X CTRL-K 词典文件内的单词<br>CTRL-X CTRL-T 近义词词典文件内的单词<br>CTRL-X CTRL-] 标记<br>CTRL-X CTRL-V Vim 命令行</p>
<p>C程序设计</p>
<p>gd 反色显示光标下局部标识符串的所有出现，并转到第一次出现处。<br>gD 反色显示光标下全局标识符串的所有出现，并转到第一次出现处。</p>
<hr>
<h2 id="checkpath-列出所有include的头文件"><a href="#checkpath-列出所有include的头文件" class="headerlink" title=":checkpath 列出所有include的头文件"></a>:checkpath 列出所有include的头文件</h2><p>[i 显示函数定义<br>extern <strong>mode_t umask (</strong>mode_t <strong>mask) </strong>THROW;</p>
<hr>
<p>[+CTRL+i 跳转到[i所标识的函数定义处<br>————————————————————————————–[I 列出当前文件及包含文件内的含有当前字符的行<br>————————————————————————————–[d 显示由#define所定义的标识符的定义语句</p>
<p>printf(|tom);</p>
<h2 id="define-tom-“yaoshuyin”"><a href="#define-tom-“yaoshuyin”" class="headerlink" title="#define tom “yaoshuyin”"></a>#define tom “yaoshuyin”</h2><p>CTRL+] 跳转到光标当前位置的标签处 （例如：一个函数的定义）。<br>CTRL+T 跳转到执行 CTRL-] 命令前的地方。<br>:tselect 从一连串匹配的标签中选出一个。</p>
<p>[/ 跳转到注释开始的位置。<br>]/ 跳转到注释结束的位置。</p>
<hr>
<p>[# 返回到未闭合的 #if, #ifdef, or #else 处。<br>]# 前进到未闭合的 #else 或</p>
<p></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/vim/" rel="tag"># vim</a>
          
            <a href="/tags/PHP/" rel="tag"># PHP</a>
          
            <a href="/tags/CMD/" rel="tag"># CMD</a>
          
            <a href="/tags/Shell/" rel="tag"># Shell</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2007/05/23/qemuaccelerator/" rel="next" title="QEMU+Accelerator">
                <i class="fa fa-chevron-left"></i> QEMU+Accelerator
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2007/06/21/ubuntu-e4-b8-8bfcitx-e5-ae-89-e8-a3-85-e5-b0-8f-e8-ae-b0/" rel="prev" title="Ubuntu下fcitx安装小记">
                Ubuntu下fcitx安装小记 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="九王爷" />
          <p class="site-author-name" itemprop="name">九王爷</p>
           
              <p class="site-description motion-element" itemprop="description">这里是外宅，备份用的</p>
          
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">269</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">38</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#在文件中插入行号-不是显示行号，是插入！"><span class="nav-number">1.</span> <span class="nav-text">在文件中插入行号(不是显示行号，是插入！)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#替换一个visual区域"><span class="nav-number">2.</span> <span class="nav-text">替换一个visual区域</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#选择一个区域，然后输入-s-Emacs-Vim-等等，vim会自动进入-模式"><span class="nav-number">3.</span> <span class="nav-text">选择一个区域，然后输入 :s/Emacs/Vim/ 等等，vim会自动进入:模式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#在多个文档中搜索"><span class="nav-number">4.</span> <span class="nav-text">在多个文档中搜索</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#列出寄存器-Registers"><span class="nav-number">5.</span> <span class="nav-text">列出寄存器(Registers)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#checkpath-列出所有include的头文件"><span class="nav-number">5.1.</span> <span class="nav-text">:checkpath 列出所有include的头文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#define-tom-“yaoshuyin”"><span class="nav-number">5.2.</span> <span class="nav-text">#define tom “yaoshuyin”</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">九王爷</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


  

</body>
</html>
