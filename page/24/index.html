<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="这里是外宅，备份用的">
<meta property="og:type" content="website">
<meta property="og:title" content="九王爷">
<meta property="og:url" content="http://yoursite.com/page/24/index.html">
<meta property="og:site_name" content="九王爷">
<meta property="og:description" content="这里是外宅，备份用的">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="九王爷">
<meta name="twitter:description" content="这里是外宅，备份用的">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/24/"/>





  <title> 九王爷 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">九王爷</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">九王爷的府邸</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2007/07/02/ubuntu-704-e5-ae-89-e8-a3-85qq/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="九王爷">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九王爷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2007/07/02/ubuntu-704-e5-ae-89-e8-a3-85qq/" itemprop="url">
                  ubuntu 7.04安装qq
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2007-07-02T07:18:00+08:00">
                2007-07-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>终于在ubuntu下成功安装好了QQ，兴奋<br>操作非常简单，只需要将QQ目录下的TIMPlatform.exe 删除就好了</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2007/07/02/qemu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="九王爷">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九王爷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2007/07/02/qemu/" itemprop="url">
                  Qemu
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2007-07-02T07:17:00+08:00">
                2007-07-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><span class="postbody">以前用过VMWare，编译内核驱动经常失败，只有VMWare－Server是免费的，但我的Feisty装VMWare出问题了，因此我就开始用Qemu,现在才发现Qemu这么好用，关键是，它属于我们开源社区。<br>Qemu作为开源虚拟机,安装简便,和Linux内核协作很好,安装Qemu加速器后性能也有了很大提升,完全不逊色<br>于其他商业软件，推荐大家使用Qemu。 </span><span class="postbody"><span style="font-weight: bold">Qemu虚拟机安装Windows</span><br>英文原文：<a href="https://help.ubuntu.com/community/WindowsXPUnderQemuHowTo" target="_blank" rel="external">https://help.ubuntu.com/community/WindowsXPUnderQemuHowTo</a></span><span class="postbody"><span style="font-weight: bold">1.安装</span></span></p>
<table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">sudo apt-get install qemu kernel-package linux-source kqemu-source build-essential</td><br></tr><br></tbody></table><br><span class="postbody"><span style="font-weight: bold">2.Qemu的二进制程序已经安装，但Qemu加速器安装的是源码，所以要加以编译</span></span><br><table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">cd /usr/src/linux<br>sudo module-assistant prepare kqemu<br>sudo module-assistant build kqemu<br>sudo module-assistant install kqemu<br>sudo depmod -a</td><br></tr><br></tbody></table><br><span class="postbody"><span style="font-weight: bold">3.载入kqemu模块</span></span><br><table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">sudo modprobe kqemu<br>sudo mknod /dev/kqemu c 250 0<br>sudo chmod 666 /dev/kqemu</td><br></tr><br></tbody></table><br><span class="postbody"><span style="font-weight: bold">4.创建Windows虚拟硬盘</span></span><br><table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">qemu-img create -f qcow windows.img 2G</td><br></tr><br></tbody></table><br><span class="postbody"><br>(这里的2G大小可以自己设置,使用qcow文件格式,因此它根据用户使用而增大减小,但最大上限为2G) </span><span class="postbody"><span style="font-weight: bold">5.从光驱安装Windows</span></span><br><table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">qemu -localtime -cdrom /dev/cdrom -m 384 -boot d windows.img</td><br></tr><br></tbody></table><br><span class="postbody"><br>(同样也可以从硬盘镜像安装<br></span><br><table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">qemu -localtime -cdrom cdimagefile.iso -m 384 -boot d windows.img</td><br></tr><br></tbody></table><br><span class="postbody"><br>这里的-m 384是指定内存,384 MB是很好的XP最小内存<br>如果内存不够,可以这样<br></span><br><table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">sudo umount /dev/shm<br>sudo mount -t tmpfs -o size=400m none /dev/shm</td><br></tr><br></tbody></table><br><span class="postbody">) </span><span class="postbody"><em>64位用户请使用’qemu-system-x86_64’而不是’qemu’,否则”-kernel-kqemu”不能启用.
</em>安装Windows 2000请加入参数’-win2k-hack’.</span><span class="postbody"><span style="font-weight: bold">6.使用</span><br>Ctrl + Alt 控制切换<br>Ctrl + Alt + F 全屏切换</span><br><br><span style="font-weight: bold">7.保存配置</span><br>每次启动qemu之前都要手动载入kqemu模,可以将那些命令写入/etc/rc.local,<br>这样系统启动就会运行这些命令<br><br><span style="font-weight: bold">8.网络</span><br>请参考<a href="http://fabrice.bellard.free.fr/qemu/qemu-doc.html" target="_blank" rel="external">http://fabrice.bellard.free.fr/qemu/qemu-doc.html</a><br><br><span style="font-weight: bold">9.宿主和客系统之间的文件共享</span><br>QEMU为你配置了一个虚拟局域网和DHCP服务器.<br>首先在宿主Ubuntu上配置好Samba,然后这样启动qemu<br>(这里假设你有个qemu_share文件夹)<br><table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">qemu -smb $HOME/qemu_share -m 384 -localtime windows.img</td><br></tr><br></tbody></table><br><span class="postbody"><br>在客系统Windows下,这样来访问共享文件<br>net use e: \10.0.2.2\qemu_share<br>而且宿主Ubuntu的IP地址永远是10.0.2.2,因此如果你在宿主Ubuntu上运行了服务器,同样可以访问,比如<br>ftp:\10.0.2.2,等等. </span><span class="postbody"><span style="font-weight: bold">10.挂载虚拟硬盘,先要确保关闭qemu</span></span><br><table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">sudo mount -o loop,offset=32256 windows.img /mnt</td><br></tr><br></tbody></table><br><span class="postbody"><span style="font-weight: bold">11.保存和恢复虚拟机的状态</span><br>当你安装好了一个虚拟机后,你可以在其上创建一个”叠加镜像”,</span><br><table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">qemu-img create -b windows.img -f qcow windows.ovl</td><br></tr><br></tbody></table><br><span class="postbody"><br>现在你可以运行叠加镜像<br></span><br><table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">qemu windows.ovl -enable-audio -user-net -localtime -smb qemu_share</td><br></tr><br></tbody></table><br><span class="postbody"><br>叠加镜像非常小,只保存对原始镜像作出的改变,如果你想回到安装后的初始状态,<br>只需简单地删掉叠加镜像,然后创建一个新的. </span><span class="postbody"><span style="font-weight: bold">12.运行QEMU命令</span><br>当QEMU正在运行时,他还可以接受命令<br>在QEMU窗口按CTRL+ALT+2,会出想QEMU监视器,输入help可以看到你能做很多事情<br>退出请按CTRL+ALT+1</span><span class="postbody"><span style="font-weight: bold">13.将raw格式的虚拟硬盘转换为qcow格式</span></span><br><table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">qemu-img convert windows.img -O qcow windows.qcow</td><br></tr><br></tbody></table><br><span class="postbody"><br><span style="font-weight: bold"><br>14.故障解决</span><br>如果你遇到鼠标始终挂在右下角,请在启动QEMU前运行<br></span><br><table border="0" cellspacing="1" cellpadding="3" width="90%" align="center"><br><tbody><br><tr><br><td><span class="genmed"><strong>代码:</strong></span></td><br></tr><br><tr><br><td class="code">export SDL_VIDEO_X11_DGAMOUSE=0</td><br></tr><br></tbody></table>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2007/06/23/e5-9c-a8ubuntu704-e4-b8-ad-e7-bc-96-e8-af-91-e5-ae-89-e8-a3-85-e8-83-bd-e4-bd-bf-e7-94-a8qq-e5-92-8cmsn-e7-9a-84pidgin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="九王爷">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九王爷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2007/06/23/e5-9c-a8ubuntu704-e4-b8-ad-e7-bc-96-e8-af-91-e5-ae-89-e8-a3-85-e8-83-bd-e4-bd-bf-e7-94-a8qq-e5-92-8cmsn-e7-9a-84pidgin/" itemprop="url">
                  在ubuntu7.04中编译安装能使用QQ和MSN的pidgin
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2007-06-23T07:14:00+08:00">
                2007-06-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>重新安装ubuntu7.04以后的gaim不能使用qq，非常不爽，所以准备重新编译安装gaim，现在的gaim由于版权问题改了名字叫pidgin了，是只小鸟。</p>
<p>下载pidgin2.02的源代码，然后解包到/tmp，准备开始安装</p>
<p>sudo ./configure 的时候说缺少几个包，</p>
<p><span class="postbody">configure: error: C compiler cannot create executables</span></p>
<p>按照错误提示安装缺少的包</p>
<p>sudo apt-get install libc6-dev</p>
<p>再次</p>
<p>./configure</p>
<p>出现错误</p>
<p>checking for GLIB… no</p>
<p>no</p>
<p>configure: error: <span class="postbody">You must have the GLib 2.0 development headers installed to build.</span></p>
<p>根据错误提示 用新得立 搜索 GLib 2.0 或者 用命令 apt-cache search GLib 2.0</p>
<p>有个包 libglib2.0-dev - Development files for the GLib library</p>
<p>安装</p>
<p>sudo apt-get install libglib2.0-0-dev</p>
<p>./configure</p>
<p>又出现错误</p>
<p>checking for X… no</p>
<p>checking for GTK… no</p>
<p>no</p>
<p>configure: error:</p>
<p>You must have the GTK+ 2.0 development headers installed to compile Pidgin.</p>
<p>If you only want to build Finch then specify –disable-gtkui when running configure.</p>
<p>用如上同样的方法查找到缺少的包 并安装</p>
<p>sudo apt-get install libgtkmm2.0-dev</p>
<p>./configure 出现错误</p>
<p>checking for LIBXML… no</p>
<p>no</p>
<p>configure: error:</p>
<p>You must have libxml2 &gt;= 2.6.0 development headers installed to build.</p>
<p>于是安装</p>
<p>sudo apt-get install libxml2-dev</p>
<p>终于不少包了，准备安装<span class="postbody"></span></p>
<p>sudo make</p>
<p>sudo make install </p>
<p><span class="postbody">安装以后成功运行，可以使用qq了。新的图标、界面也比gaim好看点。但随即发现不能使用MSN，郁闷说是少了ssl支持。</span></p>
<p>只好卸载重新编译</p>
<p>sudo make uninstal</p>
<p>然后下载ssl支持包</p>
<p>`sudo apt-get install libnss-dev</p>
<p>sudo ./configure</p>
<p>sudo make</p>
<p>sudo makeinstall</p>
<p>终于OK了。QQ也能用了，MSN也能用了，不知道是不是心理作用，感觉pidgin的速度比gaim快得多</p>
<p>可惜还是有问题没解决：不是所有的QQ都能登录，至少我就有一个qq不能登录。</p>
<p>`<span class="postbody"></span></p>
<p></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2007/06/21/ubuntu-e4-b8-8bfcitx-e5-ae-89-e8-a3-85-e5-b0-8f-e8-ae-b0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="九王爷">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九王爷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2007/06/21/ubuntu-e4-b8-8bfcitx-e5-ae-89-e8-a3-85-e5-b0-8f-e8-ae-b0/" itemprop="url">
                  Ubuntu下fcitx安装小记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2007-06-21T08:12:00+08:00">
                2007-06-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>忍受不了SCIM了，于是决定投入fcitx的怀抱。<br>      从<a href="http://www.fcitx.org/" target="_blank" rel="external">http://www.fcitx.org</a>上下载最新的3.4.1版，最开始的时候下载的是预编译好的包，下载回来，解压开，直接运行里面的fcitx.install，安装。执行fcitx，提示说SCIM正在运行，kill掉所有和SCIM有关的进程，再执行fcitx，可爱的小企鹅如期出现在桌面上，马上建个文档测试输入法，刚用Ctrl+Space把输入法打开，才按下一个字母fcitx就自动退出了，根据终端下的提示，是找不到智能拼音的数据库文件。想了想，再去弄这个也是个麻烦事情，就执行下载包里面的fcitx.uninstall把这个预编译版卸载掉。
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2007/06/21/ubuntu-e4-b8-8bfcitx-e5-ae-89-e8-a3-85-e5-b0-8f-e8-ae-b0/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2007/05/29/vi-e5-b8-b8-e7-94-a8-e6-93-8d-e4-bd-9c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="九王爷">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九王爷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2007/05/29/vi-e5-b8-b8-e7-94-a8-e6-93-8d-e4-bd-9c/" itemprop="url">
                  vi常用操作
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2007-05-29T13:25:00+08:00">
                2007-05-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><span class="postbody">)文件操作<br>vi FileName 打开文件 FileName,并将光标置于第一行首。<br>vi +n FileName 打开文件 FileName,并将光标置于第 n 行首。<br>vi + FileName 打开文件 FileName,并将光标置于最后一行。<br>vi + /pattern File 打开文件 File,并将光标置于其中第一个于 pattern 匹配的字符串处。<br>vi �Cr FileName 在上次正用 vi 编辑 FileName 发生系统崩溃后,恢复FileName。<br>vi File1 … Filen 打开多个文件,依次对之进行编辑。 </span><span class="postbody">:%!xxd 按十六进制查看当前文件<br>:%!xxd -r 从十六进制返回正常模式</span><span class="postbody">:n1,n2 co n3 将 n1 行到 n2 行之间的内容拷贝到第 n3 行下。<br>:n1,n2 m m3 将 n1 行到 n2 行之间的内容移至第 n3 行下。<br>:n1,n2 d 将 n1 行到 n2 行之间的内容删除。<br>:n1,n2 w filename 将 n1 行到 n2 行之间的内容保存到文件 filename 中<br>:n1,n2 w! Command 将文件中n1行到n2行的内容作为 Command的输入并执行之，<br>若不指定 n1、n2，则将整个文件内容作为 Command 的输入。<br>:r! Command 将命令 Command 的输出结果放到当前行。<br>:nr &lt;文件&gt; 把&lt;文件&gt;插入到第n行<br>:so &lt;文件&gt; 读取&lt;文件&gt;,再执行文件里面的命令(文件中的命令应该都是一些ex命令)<br>:l1,l2w &lt;文件&gt; 把第l1和第l2行之间的文本写到&lt;文件&gt;中去<br>:w &gt;&gt; &lt;文件&gt; 添加到&lt;文件&gt;末尾. 也可以使用行号<br>:e! 重新编辑当前文件,忽略所有的修改</span></p>
<p>・(、[、{、}、]、)对应显示<br>% 显示当前(、[、{ 、}、] 、)的对应项<br>) 显示对应的(<br>) 显示对应的[<br>] 显示对应的{</p>
<p>・(、[、{、}、]、)内数据选择<br>daB 删除{}及其内的内容 (在非v可视模式下)<br>diB 删除{}中的内容<br>ab 选择()中的内容<br>ib 选择()中的内容( 不含() )</p>
<p>aB 选择{}中的内容<br>iB 选择{}中的内容( 不含{} )</p>
<p>・语法提示与自动补齐</p>
<p>★ &lt;C-N&gt;&lt;C-P&gt; 插入模式下的单词自动完成<br>★ &lt;C-X&gt;&lt;C-L&gt; 行自动完成(超级有用)</p>
<p>・设置ctags</p>
<p>#ctags -f /usr/share/vim/vim63/funcs.tags -R /opt/j2sdk/src /usr/src/kernels/2.6.9-5.EL-i686</p>
<p>^p 自动补齐上下文已有相近项<br>^n 自动补齐~/.tags中的相近函数<br>^[ 显示~/.tags中的光标下的函数的原型,<br>按^t退出函数<br>:pta 函数名 预览窗口快速打开相应函数所在文件，并将光标定位在对应函数的开头<br>K 显示光标下的C函数的man说明手册</p>
<p>・变量定位<br>gd 转到光标下局部变量的定义处<br>Gd 转到光标下全局变量的定义处</p>
<p>・编译选项<br>:cn 命令会把你带到下一个出错地点，而不考虑它在什么文件里。<br>:cc 命令会向你显示当前错误的编译器输出信息；<br>:cl 会生成一个列有项目所有错误的列表，以供浏览这些错误</p>
<p>3]光标移动<br>・字符<br>h 光标左移一个字符。<br>l 光标右移一个字符。</p>
<p>・字<br>w 或 W 光标右移一个字至字首。<br>B 或 b 光标左移一个字至字首。<br>E 或 e 光标右移一个字至字尾。</p>
<p>・句} 光标移至句尾。<br>( 光标移至句首。</p>
<p>・段) 光标移至段落开头。<br>{ 光标移至段落结尾。</p>
<p>・行k 或 Ctrl+p 光标上移一行。<br>j 或 Ctrl+n 光标下移一行。<br>Enter 光标下移一行。<br>nG 光标移至第 n 行首。<br>n+ 光标下移 n 行。<br>n- 光标上移 n 行。<br>n$ 光标移至第 n 行尾。<br>0 光标移至当前行首。<br>$ 光标移至当前行尾。</p>
<p>・屏幕<br>H 光标移至屏幕顶行。<br>M 光标移至屏幕中间行。<br>L 光标移至屏幕最后行。<br>Ctrl+u 向文件首翻半屏。<br>Ctrl+d 向文件尾翻半屏。<br>Ctrl+f 向文件尾翻一屏。<br>Ctrl+b 向文件首翻一屏。<br>nz 将第 n 行滚至屏幕顶部。不指定 n 时将当前行滚至屏幕顶。</p>
<p>4}插入</p>
<h1 id="在文件中插入行号-不是显示行号，是插入！"><a href="#在文件中插入行号-不是显示行号，是插入！" class="headerlink" title="在文件中插入行号(不是显示行号，是插入！)"></a>在文件中插入行号(不是显示行号，是插入！)</h1><p>★:g/^/exec “s/^/“.strpart(line(“.”).” “, 0, 4)</p>
<p>・光标<br>i 在光标前插入。<br>a 在光标后插入。</p>
<p>・行<br>I 在当前行首插入。<br>A 在当前行尾插入。<br>o 在当前行之下一新行插入。<br>O 在当前行之上新开一行插入。</p>
<p>5)替换<br>r 替换当前字符。<br>R 替换当前字符及其后的字符，直至按 ESC 键。<br>s 从当前光标位置处开始，以输入的文本代替指定数目的字符。<br>S 删除指定数目的行，并以所输入的文本代替。</p>
<p>6)修改<br>ncw 或 nCW 修改指定数目的字符。<br>nCC 修改指定数目的行。<br>:r filename 将文件 filename 插入在当前行之下</p>
<p>7)查找替换</p>
<p>/&lt;C-R&gt;&lt;C-W&gt; 把狭义单词 &lt;cword&gt; 写到 搜索命令 行<br>/&lt;C-R&gt;&lt;C-A&gt; 把广义单词 &lt;cWORD&gt; 写到 搜索命令 行</p>
<p>:g/str/s/str1/str2/g<br>第一个g表示对每一个包括s1的行都进行替换，<br>第二个g表示对每一行的所有进行替换<br>包括str的行所有的str1都用str2替换<br>:%s/f $/for$/g 将每一行尾部的”f “（f键和空格键）替换为for<br>:%s/^/mv /g 在每一行的头部添加”mv “（mv键和空格键）</p>
<p>:s/fred/&lt;c-r&gt;a/g 替换fred成register a中的内容，呵呵</p>
<p>:g/&lt;input|&lt;form/p 显示含&lt;input或&lt;form的行</p>
<h1 id="替换一个visual区域"><a href="#替换一个visual区域" class="headerlink" title="替换一个visual区域"></a>替换一个visual区域</h1><h1 id="选择一个区域，然后输入-s-Emacs-Vim-等等，vim会自动进入-模式"><a href="#选择一个区域，然后输入-s-Emacs-Vim-等等，vim会自动进入-模式" class="headerlink" title="选择一个区域，然后输入 :s/Emacs/Vim/ 等等，vim会自动进入:模式"></a>选择一个区域，然后输入 :s/Emacs/Vim/ 等等，vim会自动进入:模式</h1><p>:’&lt;,’&gt;s/Emacs/Vim/g 前面的’&lt;,’&gt;是vim自动添加的</p>
<h1 id="在多个文档中搜索"><a href="#在多个文档中搜索" class="headerlink" title="在多个文档中搜索"></a>在多个文档中搜索</h1><p>:bufdo /searchstr<br>:argdo /searchstr</p>
<p>复制与剪切<br>xp 交换前后两个字符的位置<br>ddp 上下两行的位置交换<br>:g/fred/t$ 拷贝行，从fred到文件末尾(EOF)</p>
<p>9)窗口操作<br>:vne [filename]<br>:sp [filename]<br>:S [filename]<br>:new [filename]<br>:^w + ^r 交换两个窗口的位置<br>^w = 窗口等宽<br>:res -n 窗口高度减小n<br>:res +n 窗口高度增大n<br>:vert res -n<br>:vert res +n</p>
<p>10)DOS格式文本转成Unix格式文本<br>:1,$s/^M//g</p>
<p>11)书签<br>在阅读和编写大的程序文件时，利用标记（书签）功能定位是十分有帮助的。</p>
<p>将光标移到想做标记的位置。假如做一个名为”debug1”的标记，那么用户可在命令模式下输入做标记的命令”mdebug1”，然后敲入回车键，一个名为”debug1”的标记就做好了。<br>接下来用户可以随意将光标移到其它的位置，当在命令模式下输入”`debug1”后，就能快速回到”debug1”的标记所在行的行首。</p>
<p>12)删除操作</p>
<p>:%s/r//g 删除DOS方式的回车^M<br>:%s= *$== 删除行尾空白</p>
<p>:%s/^(.*)n1/1$/ 删除重复行</p>
<p>:%s/^.{-}pdf/new.pdf/ 只是删除第一个pdf</p>
<p>:%s/&lt;!–_.{-}–&gt;// 又是删除多行注释（咦？为什么要说「又」呢？）</p>
<p>:g/^s*$/d 删除所有空行<br>:g!/^dd/d 删除不含字符串’dd’的行<br>:v/^dd/d 同上 （译释：v == g!，就是不匹配！）</p>
<p>:g/str1/,/str2/d 删除所有第一个含str1到第一个含str2之间的行</p>
<p>:v/./.,/./-1join 压缩空行<br>:g/^$/,/./-j 压缩空行</p>
<p>ndw 或 ndW 删除光标处开始及其后的 n-1 个字符。<br>d0 删至行首。<br>d$ 删至行尾。<br>ndd 删除当前行及其后 n-1 行。<br>x 或 X 删除一个字符。<br>Ctrl+u 删除输入方式下所输入的文本。<br>^R 恢复u的操作<br>J 把下一行合并到当前行尾<br>V 选择一行<br>^V 按下^V后即可进行矩形的选择了<br>aw 选择单词<br>iw 内部单词(无空格)<br>as 选择句子<br>is 选择句子(无空格)<br>ap 选择段落<br>ip 选择段落(无空格)<br>D 删除到行尾<br>x,y 删除与复制包含高亮区</p>
<p>dl 删除当前字符（与x命令功能相同）<br>d0 删除到某一行的开始位置<br>d^ 删除到某一行的第一个字符位置（不包括空格或TAB字符）<br>dw 删除到某个单词的结尾位置<br>d3w 删除到第三个单词的结尾位置<br>db 删除到某个单词的开始位置<br>dW 删除到某个以空格作为分隔符的单词的结尾位置<br>dB 删除到某个以空格作为分隔符的单词的开始位置<br>d7B 删除到前面7个以空格作为分隔符的单词的开始位置<br>d） 删除到某个语句的结尾位置<br>d4） 删除到第四个语句的结尾位置<br>d（ 删除到某个语句的开始位置<br>d） 删除到某个段落的结尾位置<br>d{ 删除到某个段落的开始位置<br>d7{ 删除到当前段落起始位置之前的第7个段落位置<br>dd 删除当前行<br>d/text 删除从文本中出现”text”中所指定字样的位置，<br>一直向前直到下一个该字样所出现的位置（但不包括该字样）之间的内容<br>dfc 删除从文本中出现字符”c”的位置，一直向前直到下一个该字符所出现的位置（包括该字符）之间的内容<br>dtc 删除当前行直到下一个字符”c”所出现位置之间的内容<br>D 删除到某一行的结尾<br>d$ 删除到某一行的结尾<br>5dd 删除从当前行所开始的5行内容<br>dL 删除直到屏幕上最后一行的内容<br>dH 删除直到屏幕上第一行的内容<br>dG 删除直到工作缓存区结尾的内容<br>d1G 删除直到工作缓存区开始的内容<br>修改命令操作<br>r 更改当前字符<br>cw 修改到某个单词的结尾位置<br>c3w 修改到第三个单词的结尾位置<br>cb 修改到某个单词的开始位置<br>cW 修改到某个以空格作为分隔符的单词的结尾位置<br>cB 修改到某个以空格作为分隔符的单词的开始位置<br>c7B 修改到前面7个以空格作为分隔符的单词的开始位置<br>c0 修改到某行的结尾位置<br>c} 修改到某个语句的结尾位置<br>c4} 修改到第四个语句的结尾位置<br>c（ 修改到某个语句的开始位置<br>c） 修改到某个段落的结尾位置<br>c{ 修改到某个段落的开始位置<br>c7{ 修改到当前段落起始位置之前的第7个段落位置<br>ctc 修改当前行直到下一个字符c所出现位置之间的内容<br>C 修改到某一行的结尾<br>cc 修改当前行<br>5cc 修改从当前行所开始的5行内容<br>. 重复上一次修改！</p>
<p>13}Set 选项设置<br>set all 列出所有选项设置情况。<br>set term 设置终端类型。<br>set ignorecase 在搜索中忽略大小写。<br>set list 显示制表位(^I)和行尾标志($)。<br>set number 显示行号。<br>set showmode 示用户处在什么模式下<br>set report 显示由面向行的命令修改国的行数目。<br>set terse 显示简短的警告信息。<br>set warn 在转到别的文件时，若没有保存当前文件则显示 No write 信息。<br>set autowrite 在”:n”和”:!”命令之前都自动保存文件<br>set nomagic 允许在搜索模式中，使用前面不带的特殊字符。<br>set nowrapscan 禁止 vi 在搜索到达文件两端时,又从另一端开始。<br>set mesg 允许 vi 显示其他用户用 write 写到自己终端上的信息。</p>
<p>autoindent (ai) noai 使新行自动缩进,和上(下)行的位置对齐<br>autoprint (ap) ap 每条命令之后都显示出修改之处<br>autowrite (aw) noaw 在:n,:!命令之前都自动保存文件<br>beautify (bf) nobf 在输入的时候忽略所有的控制字符(除了制表键(tab),换行(newline),进纸(formfeed))<br>directory= (dir=) /tmp 存放缓冲区的目录名<br>edcompatible noedcompatible 在替换的时候使用类ed的用法<br>errorbells (eb) errorbells 出错的时候响铃<br>exrc (ex) noexrc 允许在主目录(home)外面之外放.exrc文件<br>hardtabs= (ht=) 8 设置硬制表的边界<br>ignore case (ic) noic 正规式里忽略大小写<br>lisp nolisp 打开lisp模式<br>list nolist 显示所有的制表键和行的结尾<br>magic agic 可以使用更多的正规表达式<br>mesg mesg 允许向终端发送消息<br>number (nu) nonumber 显示行号<br>open open 允许开放和可视化<br>optimize (opt) optimize 优化吞吐量,打印时不发回车<br>paragraphs= (para=) IPLPPPQPPLIbp 设置{ &amp; }的分界符<br>prompt prompt 命令模式下的输入给出:的提示符<br>readonly (ro) noro 除非用!号否则不准保存文件<br>redraw noredraw 当编辑的时候重绘屏幕<br>remap remap 允许宏指向其他的宏<br>report= 5 如果影响的行数&gt;这个数的话就报告<br>scroll 1/2 window 下卷屏幕时滚动屏幕的数目, 同样这也是z命令输出的行数(z 输出2倍滚屏的大小)<br>sections= SHNHH HU 定义节的末尾(当使用命令[[ 和 ]] 时)<br>shell= (sh=) /bin/sh 缺省的SHELL,如果设置了环境变量SHELL的话,就使用变量<br>shiftwidth= (sw=) 8 当使用移动(shift)命令时移动的字符数<br>showmatch (sm) nosm 显示{, }, (, ), [, 或者 ] 的匹配情况<br>showmode noshowmode 显示你处在什么模式下面<br>slowopen (slow) 插入之后不要立刻更新显示<br>tabstop= (ts=) 8 设置制表停止位(tabstop)的长度<br>taglength= (tl=) 0 重要标记的字符个数(0表示所有的字符)<br>tags= tag, /usr/lib/tags 定义包含标记的文件路径<br>term= 设置终端类型<br>terse noterse 显示简短的错误信息<br>timeout (to) timeout 一秒钟后键盘映射超时<br>ttytype= 设置终端类型<br>warn warn 显示”No write since last change”信息<br>window= (w=) 可视模式下窗口的行数<br>wrapmargin= (wm=) 0 右边距,大于0的话最右边的单词将折行,留出n个空白位置<br>wrapscan (ws) ws 查找到文件尾后再重头开始<br>writeany (wa) nowa 可以保存到任意一个文件去</p>
<p>14}特殊字符<br>^ 匹配字符串位于行首。<br>$ 匹配字符串位于行尾。<br>. 用在模式串中，表示任何单个字符。<br>在命令模式下，重复上次的命令。</p>
<ul>
<li>在模式串中，表示其前字符可出现任意多次。<br>[] 用在模式串中,表示指定方位内字符，其中可用-表示一个字<br>符范围，用^表示不在某个范围内的字符。<br>ESC 从插入状态转换到命令状态<br>^[ 功能同 ESC</li>
</ul>
<p>15]大小写转换<br>guu 行小写<br>gUU 行大写<br>g~~ 行翻转（当然指大小写啦）</p>
<p>guw 字小写(狭义字) 译注：建议对比iw<br>gUw 字大写(狭义字)<br>g~w 字翻转(狭义字)</p>
<p>vEU 字大写(广义字)<br>vE~ 字翻转(广义字)</p>
<p>ggguG 把整个文章全部小写（ft!bt!）</p>
<p>16) 跳转足迹’. 跳到最后修改的那一行 (超级有用)(ft,怎么又是这个评价)<br>`. 不仅跳到最后修改的那一行，还要定位到修改点<br>&lt;C-O&gt; 依次沿着你的跳转记录向回跳 (从最近的一次开始)<br>&lt;C-I&gt; 依次沿着你的跳转记录向前跳<br>:ju(mps) 列出你跳转的足迹</p>
<p>17)命令历史<br>:history 列出历史命令记录<br>:his c 命令行命令历史<br>:his s 搜索命令历史<br>q/ 搜索命令历史的窗口<br>q 命令行命令历史的窗口<br>:&lt;C-F&gt; 历史命令记录的窗口</p>
<p>18]寄存器</p>
<h1 id="列出寄存器-Registers"><a href="#列出寄存器-Registers" class="headerlink" title="列出寄存器(Registers)"></a>列出寄存器(Registers)</h1><p>:reg 显示所有当前的registers<br>“1p 表示引用register，1表示一个名字叫做1的register，p就是粘贴（paste）命令</p>
<p>译释：<br>“也用来定义register<br>先输入 “,表示定义register<br>然后输入名字，如0~9,a~z<br>然后执行删除或复制命令，如dd或y，<br>或者是visual模式下的d(删除选中的部分)或y(复制选中的部分)<br>则被删除或复制的部分就被存入了这个命名的register</p>
<p>观察：一个特殊的register, “” ，里面存储了一个匿名的删除/复制<br>在你执行dd或y的时候，被作用的部分被存到了””中</p>
<p>19}命令行<br>“ayy@a 把当前行作为一个Vim命令来执行<br>译释：”ayy 是定义当前行到register a，然后@a是执行register a中存储的指令</p>
<p>10yy copy 当前行以下10行</p>
<p>11} 排序<br>:%!sort -u 使用sort程序排序整个文件（用结果重写文件）<br>!1） sort -u 排序当前段落 (只能在normal模式下使用!!)<br>:.,+5!sort 排序当前行及以下5行</p>
<p>20） 列操作</p>
<p>:%s= [^ ]+$=&amp;&amp;= 复制最后一列<br>:%s= f+$=&amp;&amp;= 一样的功能<br>:%s= S+$=&amp;&amp; ft,还是一样</p>
<p>:s/(.<em>).</em>)/2”1/ 颠倒用:分割的两个字段</p>
<p>:%s(w+s+){2})str1:1str2: 处理列，替换所有在第三列中的str1</p>
<p>:%sw+)(.*s+)(w+)$:321: 交换第一列和最后一列 (共4列)</p>
<p>・.vimrc</p>
<p>“ Use Vim settings, rather then Vi settings (much better!).<br>set nocompatible</p>
<p>“c风格的缩进<br>:set expandtab “不使用tab只使用空格<br>:set cindent shiftwidth=4</p>
<p>“自动缩进<br>:set ai</p>
<p>“语法<br>“:set filetype=java<br>:set syntax=java</p>
<p>“键入)、] 、}，显示(、[、{<br>:set showmatch</p>
<p>“手工定义折叠<br>:set foldmethod=manual</p>
<p>“标签文件位置<br>set tags=/usr/share/vim/vim63/funcs.tags</p>
<p>“在插入模式下通过按[Ctrl]N自动地将任何类、方法或者字段名补齐<br>set complete+=k</p>
<p>“ 不要用声音烦我！<br>set visualbell</p>
<p>“历史<br>:set history=50</p>
<p>“显示行列位置<br>:set ruler</p>
<p>“设置字符编码<br>set fileencodings=gb2312<br>“set encoding=euc-cn</p>
<p>“设置ruler<br>set ruler</p>
<p>“显示当前命令<br>set showcmd</p>
<p>“incsearch<br>set incsearch</p>
<p>“ allow backspacing over everything in insert mode<br>set backspace=indent,eol,start</p>
<p>“自动检测文件类型<br>:filetype on</p>
<p>“””””””””””快捷键定义”””””””””””””””””””””””””””””””””””””””””””””””””””””””””””<br>if version &gt;= 600</p>
<p>“查找<br>“map &lt;C-H&gt; /</p>
<p>“查找函数原型<br>map &lt;C-H&gt; yiw/^(s)<em>(sub)|(function)(s)</em>&lt;C-r&gt;”&lt;CR&gt;</p>
<p>“继续查找<br>map &lt;F3&gt; n</p>
<p>“使用&lt;F10&gt;显示类、属性、方法列表<br>map &lt;F2&gt; :Tlist&lt;CR&gt;</p>
<p>“ 用compiler定义的编译程序来编译当前程序<br>“map &lt;F9&gt; :make “%”&lt;CR&gt;</p>
<p>“使用&lt;F11&gt;来进行php语法检测<br>map &lt;F11&gt; :!php -l “%” &lt;CR&gt;</p>
<p>map ;w :call FormatText()&lt;CR&gt;</p>
<p>“查找当前光标下的字<br>map &lt;F4&gt; /&lt;C-R&gt;&lt;C-W&gt;&lt;CR&gt;<br>endif<br>“””””””””””::快捷键定义”””””””””””””””””””””””””””””””””””””””””””””””””””””””””</p>
<p>“””””””””””格式化文件”””””””””””””””””””””””””””””””””””””””””””””””””””””””””””<br>function FormatText()<br>:%s/t/ /g “把t换成4个空格<br>:%s/ *$//g “去掉行尾空格</p>
<p>endfunction</p>
<p>“””””””””””格式化文件”””””””””””””””””””””””””””””””””””””””””””””””””””””””””””</p>
<p>“”””””””””显示行尾的tab和多余空格”””””””””””””””””””””””””””””””””””””””””””””””<br>set listchars=tab:&gt;-,trail:~<br>set list<br>syntax match Trail “ +$”<br>highlight def link Trail Todo</p>
<p>“”””””””””::显示行尾的tab和多余空格”””””””””””””””””””””””””””””””””””””””””””””</p>
<p>function LastMod()<br>if line(“$”) &gt; 5<br>let l = 5<br>else<br>let l = line(“$”)<br>endif<br>exe “1,” . l . “/CnsProgCMTime/s/CnsProgCMTime .*/CnsProgCMTime “ . strftime(“%Y-%m-%d %H:%M:%S”).”/e”<br>endfunction</p>
<p>“map &lt;F5&gt; :call LastMod()&lt;CR&gt;</p>
<p>“””””””””””自动加注释的<em>星号””””””””””””””””””””””””””””””””””””””””””””””””””””<br>“使用如/</em> … <em>/ 的注释时,r在插入模式下回车时插入</em> ;<br>“o 在普通模式下，使用 “o” 或 “O” 时插入*<br>:set formatoptions=tcro</p>
<p>“””””””””””::自动加注释的*星号””””””””””””””””””””””””””””””””””””””””””””””””””</p>
<p>vi扩展的正则表达式</p>
<p>| 指示交替，如home|house 指匹配home或house</p>
<p>() 用于分组，如home|house可以写为ho(me|use)<br><em>可以用到()上(home|house)</em> 可以匹配home, homehouse,househome, homehousehomehouse</p>
<p>(…) 实际匹配的文本可以使用1、2等在替换命令的替换部分进行检索</p>
<ul>
<li>可匹配正则表达式的一次或多次出现，既可以是单个字符也可以是()或(…)括起的内容，至少匹配一次<br>ho(use|me)+ 指至少是house或home不允许是空</li>
</ul>
<p>? 指前面正则表达式的零次或一次出现，表示出现或未出现。如free?d 将匹配fred或freed除此不能匹配其他文本</p>
<p>{…} 定义区间表达式。区间表达式描述了表示重复次数的计数数字。 同{…}<br>{n} (home|house){2} 只能匹配homehome, homehouse, househome, househouse<br>{n,}<br>{n,m}<br>{,n}</p>
<p>编译相关</p>
<p>・用编译器来编译 当前文件<br>:!perl -c %<br>:!php -l % 用php来检查错误<br>:!php -q % 用php来运行程序</p>
<p>・编译当前程序为a.out并执行该./a.out<br>:!gcc % -o a.out &amp;&amp; ./a.out<br>执行结果<br>old umask is %#0<br>new umask is %#0</p>
<p>・编译错误信息<br>:cl! 列出所有错误信息的详细列表</p>
<p>:cl 列出当前条错误信息<br>:cn 列出下一条错误信息<br>:cp 列出上一条错误信息</p>
<p>:cnew 最新错误信息条数<br>:cold 旧的错误信息条数</p>
<p>:cwin 或 :copen 打开错误信息窗口<br>:cclose 关闭上面打开的信息窗口</p>
<p>自动补齐</p>
<p>CTRL-X CTRL-F 文件名<br>CTRL-X CTRL-L 整行<br>CTRL-X CTRL-D 宏定义 (并搜索所包含的文件)<br>CTRL-X CTRL-I 当前文件以及所包含的文件<br>CTRL-X CTRL-K 词典文件内的单词<br>CTRL-X CTRL-T 近义词词典文件内的单词<br>CTRL-X CTRL-] 标记<br>CTRL-X CTRL-V Vim 命令行</p>
<p>C程序设计</p>
<p>gd 反色显示光标下局部标识符串的所有出现，并转到第一次出现处。<br>gD 反色显示光标下全局标识符串的所有出现，并转到第一次出现处。</p>
<hr>
<h2 id="checkpath-列出所有include的头文件"><a href="#checkpath-列出所有include的头文件" class="headerlink" title=":checkpath 列出所有include的头文件"></a>:checkpath 列出所有include的头文件</h2><p>[i 显示函数定义<br>extern <strong>mode_t umask (</strong>mode_t <strong>mask) </strong>THROW;</p>
<hr>
<p>[+CTRL+i 跳转到[i所标识的函数定义处<br>————————————————————————————–[I 列出当前文件及包含文件内的含有当前字符的行<br>————————————————————————————–[d 显示由#define所定义的标识符的定义语句</p>
<p>printf(|tom);</p>
<h2 id="define-tom-“yaoshuyin”"><a href="#define-tom-“yaoshuyin”" class="headerlink" title="#define tom “yaoshuyin”"></a>#define tom “yaoshuyin”</h2><p>CTRL+] 跳转到光标当前位置的标签处 （例如：一个函数的定义）。<br>CTRL+T 跳转到执行 CTRL-] 命令前的地方。<br>:tselect 从一连串匹配的标签中选出一个。</p>
<p>[/ 跳转到注释开始的位置。<br>]/ 跳转到注释结束的位置。</p>
<hr>
<p>[# 返回到未闭合的 #if, #ifdef, or #else 处。<br>]# 前进到未闭合的 #else 或</p>
<p></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2007/05/23/qemuaccelerator/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="九王爷">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九王爷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2007/05/23/qemuaccelerator/" itemprop="url">
                  QEMU+Accelerator
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2007-05-23T02:32:00+08:00">
                2007-05-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>QEMU刚刚发布的Accelerator带来了QEMU革命，它不再是一个性能低等的模拟器<br>使用Accelerator的QEMU速度一下提升了5倍之多。OSNews报道:<br><strong><font size="+0">This means you could theoretically run Windows (or another OS) on </font></strong><br><strong><font size="+0">a Linux machine at near native speeds without buying a commercial emulator.</font></strong><br>今天赶紧升了级，果然不同反响，安装了RHEL4,Win2k,速度很好，也没有以前版本分出大于2G空间
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2007/05/23/qemuaccelerator/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2007/05/13/linux-e7-a1-ac-e4-bb-b6-e6-97-b6-e9-97-b4-e7-9a-84-e8-b0-83-e6-95-b4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="九王爷">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九王爷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2007/05/13/linux-e7-a1-ac-e4-bb-b6-e6-97-b6-e9-97-b4-e7-9a-84-e8-b0-83-e6-95-b4/" itemprop="url">
                  linux硬件时间的调整
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2007-05-13T12:29:00+08:00">
                2007-05-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>首先使用date设置正确的时间(如果你的时间设置也不对的话，首先得调整时区).<br>调整后，使用date命令查看是否正确：<br>shell$date<br>Fri Apr 21 18:47:09 CST 2006<br>首先查看一下硬件时钟:<br>shell#hwclock �Cshow<br>然后使用hwclock将硬件时间调整为与系统时间一致:<br>shell#hwclock �Cdirectisa �Csystohc<br>这时间再查看一下硬件时钟是否已经调整过来了？<br>shell#hwclock �Cshow<br>Fri 21 Apr 2006 06:47:25 PM CST -0.764909 seconds<br>请注意�Cdirectisa参数，如果出现文中开头的错误信息，则必须加上此参数，表示直接以I/O指令存取硬件时间而不通过/dev/rtc设备来存取。<br>如果您的硬件时间是正确的，要将系统时钟调整的与硬件时钟一致，则只需要将�Csystohc换成�Chctosys即可。<br>hwclock的参数详解:<br>语法：hwclock [�Cadjust][�Cdebug][�Cdirectisa][�Chctosys][�Cshow][�Csystohc][�Ctest] [�Cutc][�Cversion][�Cset �Cdate=&lt;日期与时间&gt;]<br>参数：<br>�Cadjust 　hwclock每次更改硬件时钟时，都会记录在/etc/adjtime文件中。使用�Cadjust参数，可使hwclock根据先前的记录来估算硬件时钟的偏差，并用来校正目前的硬件时钟。<br>�Cdebug 　显示hwclock执行时详细的信息。<br>�Cdirectisa 　hwclock预设从/dev/rtc设备来存取硬件时钟。若无法存取时，可用此参数直接以I/O指令来存取硬件时钟。<br>�Chctosys 　将系统时钟调整为与目前的硬件时钟一致。<br>�Cset �Cdate=&lt;日期与时间&gt; 　设定硬件时钟。<br>�Cshow 　显示硬件时钟的时间与日期。<br>�Csystohc 　将硬件时钟调整为与目前的系统时钟一致。<br>�Ctest 　仅测试程序，而不会实际更改硬件时钟。<br>�Cutc 　若要使用格林威治时间，请加入此参数，hwclock会执行转换的工作。<br>�Cversion 　显示版本信息。<br>或许每次都要加上�Cdirectisa比较麻烦，因此可以用以下方法作一些改变：<br>shell#cd /sbin<br>shell#mv hwclock hwclock.ori<br>shell#cat &gt; hwclock &lt;</p>
<p>#!/bin/bash<br>/sbin/hwclock.ori �Cdirectisa $@<br>EOF<br>shell#chmod +x hwclock </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2007/05/06/fvwm-e7-ae-80-e6-98-8e-e4-bd-bf-e7-94-a8-e6-8c-87-e5-8d-97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="九王爷">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九王爷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2007/05/06/fvwm-e7-ae-80-e6-98-8e-e4-bd-bf-e7-94-a8-e6-8c-87-e5-8d-97/" itemprop="url">
                  FVWM简明使用指南
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2007-05-06T09:10:00+08:00">
                2007-05-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>简明使用指南</p>
<p>Fvwm is a window manager for X11. It is designed to minimize memory consumption, provide a 3D look to window frames, and a virtual desktop.</p>
<p>― The FVWM(F? Virtual Window Manager) manual</p>
<p>在看这个文档之前你最好对 Xwindow 的工作机制有一定了解。知道 X server 跟 WM 有什么关系。你可以参考我的 <a href="http://learn.tsinghua.edu.cn/homepage/2001315450/x.html" target="_blank" rel="external">Xwindow 网页</a>1.  FVWM 到哪里下载？有问题到哪里问？<a name="download" title="download"></a>先说正事吧。FVWM 的老巢在<a href="http://www.fvwm.org/" target="_blank" rel="external">http://www.fvwm.org</a>。那里有所有源码和各种按钮，菜单样式，图标，声音，抓图，……下载。</p>
<pre><code>另外，你可能想要FVWM支持鼠标动作。你可以在 [http://www.etla.net/libstroke/ ](http://www.etla.net/libstroke/)得到 libstroke. 下载那个为 FVWM 准备的版本，编译后安装，然后再编译 FVWM，它一般就会找到 libstoke，从而加入 stroke 的功能。

FVWM 的问题最好到 FVWM 邮件列表讨论，那里的人们都很热情。地址见 FVWM 的主页。
</code></pre><ol>
<li><p>谁需要 FVWM?<a name="who" title="who"></a>并不是任何人都会喜欢 FVWM。使用 FVWM 显然不像用 KDE，Gnome 的桌面那么简单，你需要自己对它进行配置。它是一个老牌的，长久不衰的窗口管理器，它永远以一个忠实的 Xwindow 窗口管理器的方式工作。使用 FVWM，你可以学到很多有关 Xwindow 的东西，你会很快的明白 Xwindow 的工作原理，见识到 Xwindow 的强大和灵活。</p>
<p>如果你喜欢随意的控制自己窗口，让它们都乖乖听话，而不是老是跳出来挡在你面前。你喜欢随意定制自己窗口样式，喜欢快速高效的控制窗口，喜欢节省资源，…… 总之，你是一个挑剔的人。那么 FVWM 就是你最终的选择。</p>
<p>FVWM 的用户包括很多超级大拿。你猜下面这个屏幕抓图是谁的 FVWM? (点击可以放大)</p>
<p><a href="http://learn.tsinghua.edu.cn/homepage/2001315450/knuth-fvwm.jpg" target="_blank" rel="external"><img src="http://learn.tsinghua.edu.cn/homepage/2001315450/knuth-fvwm-small.jpg" alt=""></a></p>
</li>
<li><p>我与 FVWM 的故事<a name="story" title="story"></a>FVWM 的缺省配置是非常简陋的。当我第一次看到它时，”天哪！世界上还有这么难看的窗口啊！”我立即选择了 “quit”。然后我选择了 KDE 和 Gnome。</p>
<p>但是当我被 KDE，Gnome 华丽的难以忍受的不稳定性烦透了时候，当我快要放弃使用 Linux 和 Xwindow 的时候，我在 Knuth 的主页上看到了他的 Linux 系统下的漂亮的 FVWM 抓图。天哪！我忽略了世界上最强大的窗口管理器。它完全可以变得比任何其它窗口管理器漂亮，它让我领悟到了 Xwindow 的魅力。它不但很强大，而且可以和 KDE, Gnome 里的程序一起工作。</p>
</li>
<li><p>FVWM 是什么样子？<a name="appearence" title="appearence"></a>这个问题是永远不会有答案的。问这个问题就像在问：”Xwindow 是什么样子的？”也许勉强可以接受的回答是：”你想让它是什么样子，它就会成为什么样子。”</p>
<p>FVWM 是一个<strong>完全</strong>可定制的窗口管理器。这是FVWM不同于很多其它WM的一个特点，它的一切行为方式都是由一个配置文件: .fvwm2rc 决定的。没有了这个配置文件，FVWM 就成了一个废物: 鼠标和键盘几乎不起任何作用，没有菜单，没有窗口边框，没有按钮，甚至你根本不知道它其实正在运行！</p>
<p>但是一旦有了配置文件，FVWM就会变得威力无比，简单的配置文件可以实现基本的功能，复杂的配置文件甚至可以模拟很多其它WM甚至 Windows XP。下面就是一个模拟 Windows XP 的例子，点击可以放大。很漂亮吧？什么时候 Windows XP 也能这么漂亮就好了 :)</p>
<p><a href="http://learn.tsinghua.edu.cn/homepage/2001315450/Mikhael-desk-1280x1024.png" target="_blank" rel="external"><img src="http://learn.tsinghua.edu.cn/homepage/2001315450/Mikhael-desk-small.png" alt=""></a></p>
<p>下面是一个模拟 CDE 的 dtwm 的例子：</p>
<p><a href="http://learn.tsinghua.edu.cn/homepage/2001315450/j_g_a_van_riswick-desk-1152x864.gif" target="_blank" rel="external"><img src="http://learn.tsinghua.edu.cn/homepage/2001315450/j_g_a_van_riswick-desk-small.gif" alt=""></a></p>
<p>以后如果有人告诉你：”FVWM是那个样子。”你就可以对他说：”FVWM不一定是那个样子。” :)</p>
<p>你可以在<a href="http://www.fvwm.org/screenshots/" target="_blank" rel="external">http://www.fvwm.org/screenshots/</a>看到很多漂亮的配置。</p>
</li>
<li><p>配置文件和它的位置<a name="configfile" title="configfile"></a>配置文件叫做 ~/.fvwm/.fvwm2rc, 在你的用户目录下。</p>
<p>配置文件有点像一个脚本语言。不要怕，这种脚本语言比起 Perl, awk 简单多了。你不需要学会编程。配置文件是在FVWM启动时读入并被FVWM执行的，你也可以在FVWM正在运行的时候与它”对话”，即时执行命令和修改界面风格。</p>
<p>写配置文件，一个很好的出发点就是随 FVWM 源码发行的 system.fvwm2rc 文件。它的位置现在在源码包的 sample.fvwmrc/system.fvwm2rc。你也可以在这里下载一份 2.5.4 的<a href="http://learn.tsinghua.edu.cn/homepage/2001315450/src/system.fvwm2rc" target="_blank" rel="external">system.fvwm2rc</a>. 把它拷贝到你的 ~/.fvwm/ 目录下面, 改名为 .fvwm2rc. 作为我们的起始点。</p>
<p>注意sample.fvwmrc/ 这个目录下还有system.fvwm2rc-sample-95这样的配置文件，它们可以模拟 Windows 95 的操作方式，但是这个配置文件太大了，不适合用来修改成为自己的配置文件，你有兴趣可以自己看看，然后把里面某些你觉得很cool的东西贴到你的配置文件里。</p>
<p>现在我们就来分析一下这个简单的配置文件里到底在说些什么。</p>
</li>
<li><p>什么是FVWM命令<a name="fvwmcommand" title="fvwmcommand"></a>一个配置文件里基本上是一些命令，与其它WM不同的是，FVWM并不区分样式命令和动作命令，你可以几乎在任何情况下使用任何命令。比如命令:<br><pre>Mouse 1 A CSM Style gvim TitleAtBottom</pre><br>让你在任何时候按住 Ctrl-Shift-Alt 再点击鼠标左键(编号1)，名叫gvim的窗口的标题栏就会跑到下面去。是不是很好玩？呵呵。这里 “Style” 是一个样式命令。</p>
<p><img src="http://learn.tsinghua.edu.cn/homepage/2001315450/titleatbottom.png" alt=""><br><pre>Mouse 2 A CSM All (rxvt) MoveToDesk 0</pre><br>按住 Ctrl-Shift-Alt 再点击鼠标左键中键(编号2)，所有的 rxvt 都会被移动到当前的桌面. 这里的 “All” 是一个可以附加条件和操作的条件动作命令，我们在后面会介绍。</p>
</li>
<li>怎样实验新的FVWM命令<a name="fvwmconsole" title="fvwmconsole"></a>实验一个命令的作用不需要重新启动FVWM，你可以先在 .fvwm2rc 里这样定义：<br><pre>Key F3 A A Module FvwmConsole</pre><br>然后启动fvwm, 这样你在任何时候按下 &lt;F3&gt; 键，就会启动一个叫做 FvwmConsole 的模块，你可以在里面输入Fvwm命令，回车它们就会执行，并且立即生效。这是直接与FVWM对话的方法。当然如果你想得到下面这么漂亮的 FvwmConsole, 还需要对 xterm/rxvt 的参数作一些设定。其实我的定义是：<br><pre>Key F3 A A Module FvwmConsole -terminal rxvt -geometry 45x5-0+0   -bg gold -fg midnightblue   -fn “-adobe-courier-medium-r-<em>-</em>-14-<em>-</em>-<em>-</em>-<em>-</em>-*”</pre><br><img src="http://learn.tsinghua.edu.cn/homepage/2001315450/fvwmconsole.png" alt=""></li>
<li><p>常用命令<a name="commmadsummary" title="commmadsummary"></a><br>FVWM 可以有很多个虚拟桌面(desk)(几乎无穷多！)，每个虚拟桌面可以被分成很多个页(“page”)。这些page相当于把你的屏幕扩大了很多倍。这一行就是设定每个desk包含多少page.</p>
<p>DeskTopSize 这类语句指定了整个FVWM的某种行为方式，类似的语句还有很多。下面列举一些，你第一次看本文可以草草略过这一节。</p>
<ul>
<li>Read file. 插入另外一个文件file的内容。如果你会C语言，你就知道这个语句相当于 #include . 当你的配置文件在某一方面有很长内容时，比如我的配置文件里有大量stroke，你就可以把这些都写到另一个文件里，这样使主配置文件容易修改。</li>
<li>Exec app. 启动一个shell，并且在里面执行”app”命令。这时用菜单和按钮来启动程序时经常用到的命令。如果你要启动一个X程序最好同时使用 exec, 比如<br><pre>Exec exec rxvt</pre><br>这样shell会执行”exec rxvt”, 用rxvt替代自己的正文段，这样才不会出现很多shell在那里等待X程序返回。</li>
<li>Module FvwmXxx. 启动一个叫做 FvwmXxx 的模块。一个模块是一个程序，它直接通过管道与Fvwm通信，所以必须从Fvwm fork() 出来，而不能从一个 xterm 独立启动。模块可以无限制的扩展Fvwm的功能，只要 Xlib 允许。</li>
<li>ImagePath path. 指定一个路径，在配置文件里要用到的图标等文件就会到这个路径里去寻找。比如：<br><pre>ImagePath +:/usr/share/icons:/usr/share/pixmaps: $HOME/.fvwm/icons</pre><br>加号是表示以前定义过的那个 ImagePath. FVWM 可以使用 .xbm, .xpm 和 .png 格式的图标。</li>
<li>Move, Raise, Lower, Resize, … 这些都是常用的操纵窗口的命令。</li>
<li>Close, Delete, Destroy, Iconify, Maximize, WindowShade. 关闭窗口，图标化窗口，最大化窗口，shade 化窗口. 你会发现Xwindow关闭窗口的方式有很多种，其中 Close 是最文明的一种，这会发给窗口一个消息让它收拾干净然后退出。Destroy 是立即杀死这个窗口，跟 xkill 的功能一样。Delete介于两者之间，先礼后兵，如果窗口不知道怎么收拾干净，那么就强行杀死它。</li>
<li>OpaqueMoveSize x. 如果一个窗口移动时显示内容，那么它必需占屏幕面积的 x%.</li>
<li>MoveToDesk, MoveToPage. 可以把任何窗口移动到指定的桌面和页面。</li>
<li>SnapAttraction. 设定在什么距离以内，满足什么条件的窗口就被吸附在一起。biaji<del>~</del></li>
<li>WarpToWindow x[p] y[p]. 让鼠标移动到窗口范围以内。x,y是在窗口内的坐标，用百分比表示。后面如果有后缀”p”, 就用像素来表示。</li>
<li>IgnoreModifiers. 你可以忽略某些键盘控制键。这将影响到你的鼠标和键盘热键定义。详细情况见<a href="http://learn.tsinghua.edu.cn/homepage/2001315450/fvwm.html#mouse" target="_blank" rel="external">鼠标和键盘</a>一节。</li>
<li>DesktopName desk name. 定义第desk号桌面的名字叫 name.</li>
<li>Scroll. 移动你在桌面上的 viewport, 这样你可以把桌面当成一个整体来浏览。看到很大的范围。</li>
<li>Nop. 不操作，在有些时候需要用它来占位，下面我们会遇到这样的例子。</li>
<li>PipeRead. 从一个外部命令得到输入。这可以用来根据你的系统构造许多非常高级的控制方式。其中一种叫做”菜单式文件管理器”。我们在<a href="http://learn.tsinghua.edu.cn/homepage/2001315450/fvwm.html#menu" target="_blank" rel="external">菜单</a>一节会遇到这个用法。</li>
<li>SetEnv. 设置FVWM的环境变量。</li>
</ul>
</li>
</ol>
<p>就举这些吧……我只是举出了我有时会用到的，其实还有很多很多，你看看 FVWM 的manpage就知道了。9.  窗口上下文<a name="windowcontext" title="windowcontext"></a>Move, Close, WarpToWindow …这些命令如何知道作用于那个窗口呢？如果你因为点击了窗口上的按钮，边框，……而激发了这些命令，那么这些命令就会作用于这个窗口。或者你也可以用条件选择命令确定一个或者一批窗口进行操作，见<a href="http://learn.tsinghua.edu.cn/homepage/2001315450/fvwm.html#conditional" target="_blank" rel="external">条件命令</a>。否则，这些命令不知道应该作用于哪个窗口，比如你在 FvwmConsole 里键入 “Close”, Close 命令就没有窗口上下文，它缺省会出现一个”+”状的选择器让你选择一个窗口。如果你不希望命令在没有窗口上下文的时候自动让你选择一个窗口，那么你可以在命令前面加上 “Silent”.</p>
<ol>
<li><p>鼠标和键盘<a name="mouse" title="mouse"></a>FVWM几乎可以以无穷的方式组合，来进行鼠标和键盘的操作。你还可以加入窗口上下文来进行更方便的动作。</p>
<p>键盘操作的定义：<br><pre>Key Keyname Context Modifiers Function</pre><br>它表示：在名叫 Keyname 的键在 Context 上下文按下时，如果控制键 Modifiers 组合按下，那么执行 Function. 键盘操作后面的部分跟鼠标一样的含义，我们下面只用鼠标操作来一起说明这些命令的用途。</p>
<p>鼠标操作的定义：<br><pre>Mouse Button Context Modifiers Function</pre><br>它表示：在鼠标编号为 Button 的键在 Context 上下文按下时，如果键盘控制键 Modifiers 组合按下，那么执行 Function.</p>
<p>鼠标键编号的方法是：1 左键，2 中键，3 右键。如果你的鼠标有轮子，那么一般4表示往上滚动，5表示往下滚动。</p>
<p>Context是鼠标按下的位置，它可以是：</p>
<ul>
<li>R(Root Window) 根窗口</li>
<li>n (n 是0…9 之间的一个数)。第 n 号窗口按钮。按钮是这样编号的：<br>1 3 5 7 9     0 8 6 4 2<br>左边是奇数右边是偶数, 外面的大中间的小。</li>
<li>T(Title)标题栏</li>
<li>S(Sidebar)也就是边框. 也可以用 ‘[‘, ‘]’, ‘-‘ , ‘_’ 分别表示左，右，上，下的边框。</li>
<li>F(Frame)就是用来resize的那四个角落. 也可以用 ‘&lt;’, ‘^’, ‘&gt;’ and ‘v’ 分别表示左上，右上，右下，左下的角落。</li>
<li>W(Working Area) 应用程序窗口工作区域</li>
<li>I(Icon window) 图标化的窗口。</li>
</ul>
</li>
</ol>
<p>这些上下文可以组合。比如 “FST” 表示在frame, sidebar, 或者 title.</p>
<p>Modifiers 是鼠标操作时同时的键盘控制键。M 表示 “Meta”，在PC上就是Alt，S: shift, C: ctrl. 还有 A: any, N: none. 也可以组合，比如”MS” 表示同时按下Alt-Shift.</p>
<p>Function 就是任意的FVWM操作了，可以是一个直接的命令，也可以是一个 FVWM 函数。</p>
<p>现在我们分析一下下面这个定义：</p>
<pre>Mouse 3 W       SC      CloseOrNot</pre>
这个定义是说，在窗口上点击鼠标右键，并且先按下 Shift-Ctrl，那么调用 CloseOrNot 这个FVWM函数。这个函数会作用与当前鼠标所在的上下文，也就是一个窗口。函数是这样定义的：11.  函数<a name="function" title="function"></a>
<pre>DestroyFunc CloseOrNot AddToFunc CloseOrNot + C Silent Close + M Nop</pre>
你可以把一系列的操作有条件的加入到一个叫做"函数"的结构里，以后这个函数就可以像命令一样被使用了。

    AddToFunc 把动作附加到函数, 如果函数不存在就先创建这个函数。除了第一行，后面的行都以一个"+"号开头，这说明以下是上一个命令(AddToFunc)的继续。DestroyFunc 是为了消除以前有可能定义过的函数体。这个函数 CloseOrNot 表示:

    *   如果是一个鼠标点击(C), 那么关闭这个窗口(Close), 但是如果现在不是在窗口上下文，也就是说，函数调用的时候没有一个确定的目标，那么不进行操作，而不是出现一个"＋"字瞄准器让用户选择窗口。 这就是 "Silent" 的含义。
    *   如果鼠标点下去之后移动了，也就是"拖动"(M)，那么不进行操作。

12.  启动函数和退出函数<a name="startfunc" title="startfunc"></a> <a name="xloadimage" title="xloadimage"></a>在 FVWM 启动和重新启动时都会调用 StartFunction, 而且在首次启动时会调用 InitFunction, 在重新启动时会调用 RestartFunction， InitFunction 和 RestartFunction 都是在 StartFunction 之后调用。每次重起和完全退出时都要执行 ExitFunction.

    如果你有什么程序需要在FVWM启动时启动，那么就把它加到合适的函数里面去。比如，我的配置文件有这些内容：
<pre>DestroyFunc StartFunction AddToFunc StartFunction          + I Module FvwmButtons MainPanel + I Module FvwmAuto 500 Raise Nop + I Module FvwmAnimate + I Module FvwmTaskBar + I Exec exec xdaliclock  + I Exec exec xloadimage -onroot -fullscreen ~/pic/cat_20.jpg + I Exec exec xsim  DestroyFunc InitFunction AddToFunc InitFunction     + I Exec exec xscreensaver -no-splash  DestroyFunc ExitFunction AddToFunc ExitFunction + I All (xdaliclock) Close + I All (xscreensaver) Close + I All (xsim) Close</pre>
可见，我在第一次启动时会启动 xscreensaver 屏幕保护程序。-no-splash 是 xscreensaver 的参数。在每次重新启动和第一次启动时都要运行 FvwmButtons, FvwmAuto, FvwmAnimate, FvwmTaskBar 几个模块和 xdaliclock，一种 morph 数字的时钟，然后用 xloadimage 放一张漂亮的图片作为桌面背景，最后启动 xsim 中文输入法。

    退出和重起时，我特意关闭了那几个启动时打开的程序，因为如果不关闭他们，像 xwin32, Exceed 这样的 Windows X server 不会 Reset.

    每个命令前的 "I" 表示 Imediately, 立即执行，联想上面提到的 "C" 和 "M", 这个操作不等待任何鼠标动作。
13.  窗口样式<a name="style" title="style"></a>Style 语句用于设定窗口的样式。你可以随心所欲的让不同的窗口有不同的样式。语法为:
<pre>Style stylename options</pre>
其中_stylename_是你的窗口的名字，窗口的class名字，或者窗口的resource名字。如果你不知道这些 X window 的术语，那现在就姑且当作窗口的名字好了，以后多看看 Xlib 的说明书你就会明白这些东西。窗口的名字有可能不同于程序的名字，你不知道它叫什么名字可以用 xwininfo 程序或者 FvwmIdent 模块来查询。再次说明，FvwmIdent 是模块，不能从 xterm 的命令行运行。

    stylename 里可以有 "*" 作为通配符。比如你可以说
<pre>Style *term TitleAtLeft</pre>
让所有以 "term" 结尾的那些窗口的标题拦都在左边。比如 "xterm", "cxterm", "qterm", ... 都会采用这种样式。

    _options_ 是你想让满足条件的窗口以什么样的方式存在。options 的种类非常之多。比如：BorderWidth, HandleWidth, FocusFollowsMouse, TileCascadePlacement, ... 它们有的需要参数，比如 BorderWidth 7, 指定边框宽度为7个像素。有些不需要参数，比如 FocusFollowsMouse/ SloppyFocus/ NeverFocus/ ClickToFocus 指明了几种互相排斥的键盘聚焦方式。 先举几个例子，这些都是 system.fvwm2rc 里的内容：
<pre>Style *           FocusFollowsMouse Style *           TileCascadePlacement Style "Fvwm*"       NoTitle,  Sticky, WindowListSkip Style "Fvwm*"       BorderWidth 2, CirculateSkipIcon, CirculateSkip Style "FvwmPager"   StaysOnTop Style "FvwmBanner"  StaysOnTop Style "FvwmButtons" Icon toolbox.xpm, ClickToFocus</pre>
开头的两行说明所有窗口，都是鼠标移进去的时候得到键盘聚焦，鼠标移出来就失去聚焦(FocusFollowsMouse)，窗口出现的时候，先试图找一个可以放下它而不挡住其它窗口的地方，如果不行再采用层叠放置的方式(TileCascadePlacement)。

    下面是说明所有名字以 "Fvwm" 开头的窗口(在这里一般都是 FVWM 内部的模块)，它们都没有标题栏(NoTitle)，而且是sticky，也就是说即使桌面切换，它们也一直显示在屏幕上，边框宽度为 2， CirculateSkip 说明当FVWM要求轮询窗口进行批量操作时，这些窗口不被计算在内。第3,4行说明 FvwmPager, FvwmBanner 这两个模块一直显示在最上面。最后一行说明 FvwmButtons 模块使用 toolbox.xpm 的图标，需要鼠标点击才能得到键盘聚焦(ClickToFocus)。

    总的说来，options指出了控制窗口的基本样式和政策，而不包括窗口各个部件具体的样式，它包括以下几个方面内容：

    *   窗口聚焦方式。是跟随鼠标(FocusFollowsMouse)，还是需要点击才聚焦(ClickToFocus)...
    *   窗口标题栏。是否给窗口加上标题拦？如果加上，是放在左边，上边，还是下边？注意这里也不是设定具体标题样式的地方，参看 TitleStyle.
    *   窗口应该显示哪些按钮。FVWM可以为每个窗口设定最多10个按钮，但是你通常用不到10个，这样你可以设定对于某一个程序那些按钮应该出现。注意这里也不是设定按钮样式的地方，参看 ButtonStyle.
    *   窗口边框样式。边框宽度，handle(就是边框角上那个用来resize的东东)的宽度，边框被鼠标按住的时候是否陷下去？...
    *   窗口图标。用那个图标作为窗口iconify时候的图标？
    *   窗口最大化，移动，改变大小操作时的样式。是显示窗口内容还是只显示一个"橡皮框"？还是让尺寸小于某个值的窗口才在拖动时显示内容？...
    *   窗口放置策略。窗口出现的时候，是层叠放置，最小遮挡放置，还是……？
    *   是否允许程序自己放置自己？这是一个政策问题，有些窗口程序启动时会自己选择一个位置出现，但是你可能会发现你不喜欢它那样做，你可以设定NoPPosition, 不允许那个程序自作聪明。
    *   对瞬时窗口(transient window)的策略。transient window 是指类似弹出菜单，对话框之类的窗口。当它们出现的时候，你是否想给它们也加上标准的边框？
    *   高级特性。还有很多很多选项比如是否允许窗口 backing store，这些如果你还不理解现在暂时不用管它。

以上每项都包含许许多多可以设定的东西。具体还是请参考 fvwm 的manpage。14.  菜单<a name="menu" title="menu"></a>
一个窗口管理器怎么能没有菜单？FVWM的菜单是可以随意自己定义的，它在任何时候出现在你想让它出现的任何地方。一个菜单首先有一个定义，然后有一个激发这个菜单的条件，菜单的样式也可以随意定制。如果使用 PipeRead 命令和一些 shell 命令组合，你就可以用菜单的方式遍历你的文件目录树，成为一个"菜单式file manager"。

    *   菜单的定义菜单是由AddToMenu命令定义的，比如这样一个菜单

        ![](http://learn.tsinghua.edu.cn/homepage/2001315450/menu.png)

        是这样定义的
<pre>DestroyMenu RootMenu AddToMenu RootMenu "Root Menu" Title +   "&amp;xterm%mini.display.xpm%" Exec exec xterm +   "&amp;Rxvt%mini.monitor.xpm%" Exec exec rxvt  +   "&amp;Big Rxvt" Exec exec rxvt -geometry  78x43 +   ""  Nop +                       "&amp;Programs"      Popup ProgramsMenu +                       "&amp;Utilities"     Popup Utilities +   ""  Nop +                       "Re&amp;fresh Screen"   Refresh +                       "Re&amp;capture Screen" Recapture +   ""  Nop +                       "&amp;Lock"         Exec exec xscreensaver-command -lock +   "&amp;Exit Fvwm%mini.exit.xpm%" Popup Quit-Verify</pre>
除了第一行，后面的行都以一个+号开头，这说明以下是上一个命令的继续。这样我们定义了一个菜单，它的名字叫 "RootMenu", 它有一个标题叫"Root Menu", 里面有一些程序。当我们选中 "XTerm" 时，会使用FVWM 的 Exec 命令启动一个shell，这个shell马上会执行"exec xterm", 也就是启动一个 xterm。空字串"" 表示在菜单里画一条分隔线。Popup 可以弹出子菜单，子菜单也是用同样的方法定义的。"&amp;"后面的那个字母会变成键盘的热键而被加上下划线，"%"括起来的是图标文件的名字，你需要设置 ImagePath 指向图标文件所在的目录。你还可以在菜单里加入侧面图标，等等等等。
    *   菜单的消灭随后的AddToMenu命令会把内容附加到菜单的末尾。所以如果你想重新定义一个菜单，就需要先把它销毁掉。用
<pre>DestroyMenu RootMenu</pre>
就可以把刚才那个 "RootMenu" 菜单消灭掉。
    *   菜单的激活光是定义了一个菜单你是不能马上使用它的。这个菜单在什么情况下出现？这个问题是需要你自己来决定，这也是显示FVWM的完全可定制性的地方。比如，我们可以这样定义一个激活菜单的方式：
<pre>Mouse 1 R       A       Menu RootMenu Nop</pre>
这句话的意思是："当鼠标(Mouse)左键(1)在根窗口(R)上点击，同时有任何控制键(A)按下，这个时候显示叫做 RootMenu 的菜单。"

        但是有时候我们不容易在屏幕上找到一个可以看到根窗口的地方来点击鼠标。我们可以再加一个定义：
<pre>Mouse 3 A       MC      Menu RootMenu Nop</pre>
这样，当右键(3) 在任何地方(A)点击, 同时有Alt(M)和Ctrl(C)按下，那么弹出名叫 "RootMenu" 的菜单。

        上面的 "Nop" 表示的是鼠标在菜单上进行双击时的操作。我定义为不操作。另外 Menu 还可以随意定义菜单出现的位置，详细请看 fvwm manpage。
    *   菜单的样式菜单的样式是由 MenuStyle 定义的：
<pre>MenuStyle * MWM MenuStyle * PopupDelayed, PopupDelay 160, Animation, TitleWarp MenuStyle * Foreground gold, Background gray40 MenuStyle * ActiveFore White MenuStyle * Font  -*-simsun-medium-r-*-*-14-*-*-*-*-*-*-* MenuStyle * MenuFace VGradient 64 darkgray MidnightBlue</pre>
这样我规定：所有的菜单，他们使用 mwm 的行为方式，弹出子菜单延时 160 ms，子菜单弹出时如果靠近屏幕边沿放不下，那么菜单整体移动使得子菜单刚好能弹出，前景色gold，背景色 gray40, 活动的项目(就是鼠标正在它上方的时候)前景色变为白色，菜单使用字体 -*-simsun-medium-r-*-*-14-*-*-*-*-*-*-*, 背景是垂直的梯度颜色，一共64阶，从 darkgray 变化到 MidnightBlue.
    *   动态菜单定义前面我们说过了，可以用 PipeRead 来构造一个动态菜单。现在举一个简单的例子：
<pre>AddToMenu HomeDirMenu  PipeRead 'for i in $HOME/prog/*.c;   do echo "+ $i Exec xterm -e vi $i"; done'</pre>
当你激发这个菜单 HomeDirMenu, 就会出现你主目录/prog下的所有C程序文件的列表，当你点击其中一个就会启动vi来编辑这个C程序。是不是很方便呢？你想一想，可以用怎样无穷无尽的方式来构造一个菜单呢？

15.  按钮<a name="button" title="button"></a>窗口的标题栏上都有一些按钮。那不是窗口程序自己的，而是WM给它们加上的。

    FVWM 可以给窗口加上最多10个按钮，它们不光可以实现基本的最大化，最小化，关闭，等功能。FVWM的灵活性允许你赋予按钮几乎任意的功能！

    *   按钮编号按钮是这样编号的：
![](http://learn.tsinghua.edu.cn/homepage/2001315450/buttonnumber.png)

        左边是奇数右边是偶数, 外面的大中间的小。
    *   按钮功能定义下面看看按钮的功能是怎么定义的，在[鼠标和键盘](http://learn.tsinghua.edu.cn/homepage/2001315450/fvwm.html#mouse)一节我们已经知道怎么定义鼠标了，按钮的功能只不过是把鼠标与按钮号码组合在一起。

        比如我的窗口上一般有三个按钮, 都在右上角，注意它们的编号：

             6 4 2

        ![](http://learn.tsinghua.edu.cn/homepage/2001315450/button.png)

        他们的功能是这样定义的：
<pre>Mouse 1 4       A       Iconify Mouse 1 6       A       Close Mouse 3 2       A       Maximize-Func2</pre>
其中 Maximize-Func2 是用了 system.fvwm2rc 里一个函数：
<pre>DestroyFunc Maximize-Func2  AddToFunc Maximize-Func2 "M" Maximize  100 0 +    "C" Maximize  80 0 +    "D" Maximize  100 100</pre>
如果鼠标右键在"最大化"按钮上点击(C)那么高度增长为屏幕的 80%, 宽度不变。如果按下鼠标右键后有拖动(M), 那么高度增长为屏幕高度(100%), 宽度不变。如果双击(D), 就是一般的最大化。

        为什么是右键？因为我为左键在这个按钮上定义了更高级的 stroke 来改变窗口大小。我们稍后介绍。
    *   按钮样式 <a name="buttonstyle" title="buttonstyle"></a>按钮的样式是用ButtonStyle定义的。比如我的那三个按钮实际上是如下几句话定义的。
<pre>ButtonStyle All -- UseTitleStyle ButtonStyle All ActiveDown VGradient 8 palevioletred black ButtonStyle 6 16 20x20@1 30x20@1 50x40@1 70x20@1 80x20@1 80x30@0   60x50@0 80x80@0 70x80@0 50x60@0 30x80@0 20x80@0   20x70@0 40x50@1 20x30@0 20x20@1</pre>
右边两个按钮的图案是系统缺省的，那个"X"形按钮是下面第三句话画出来的。这种绘图语句非常简单。ButtonStyle 之后的数字是按钮编号，后面一个数子表示一共有多少笔画。后面的XxY@C都是笔画的内容，XxY是坐标, 坐标都是用百分比表示的。@C 表示颜色, C是一个数字，0 表示阴影色，1 是高亮色，2 是背景色，3 是前景色，4 是移动光标而不画线。

        你可以画你自己的按钮，也可以去拿别人设计好的来用。FVWM 的主页上有很多人提供这种按钮。

        第二个语句 "ActiveDown VGradient 8 palevioletred black" 设定了所有按钮按下去还没有松开鼠标时候的样式，是一个颜色梯度。

16.  其它样式<a name="otherstyles" title="otherstyles"></a>我们已经知道 Style 可以决定窗口的样式，MenuStyle 可以决定菜单的样式，ButtonStyle 按钮的样式。其实还有 CursorStyle, TitleStyle, BorderStyle. 他们决定了光标，标题栏，边框的样式。他们都有多样的语法，详细的就看 magpage 吧。这里就不照抄了。
17.  条件命令 <a name="conditional" title="conditional"></a>All, Any, Cond, Current, Direction, Next, None, Pick, WindowId, ... 这些命令是条件选择窗口的办法，它们让你可以用非常多样的方法，来确定你的操作需要对哪一个或者哪些窗口进行。比如：
<pre>All (Iconic) MoveToPage -1 -1</pre>
把所有图标化的窗口都移动到桌面右下角的那一页。
<pre>Key F5 A A Direction North Maximize True 0 growdown</pre>
以后按 F5 就可以让当前聚焦窗口上面(North)那个窗口往下长大，直到被当前窗口挡住去路。你有时候想在VIM里抄 Acrobat Reader 里的内容，安排窗口大小的时候就可以用这招。
18.  手写操作 (Stroke)<a name="stroke" title="stroke"></a>你用过 EDA 软件吗？用过的话，你就可以知道鼠标动作(stroke)是多么的方便！你是否想在你的窗口管理器里也使用鼠标动作？

    *   让 FVWM 支持 Stroke<a name="stroke" title="stroke"></a>如果你的FVWM窗口管理器编译进了 libstroke, 你就可以使用鼠标动作操纵程序。libstroke 是一个免费使用的 stroke 库，你可以在 [http://www.etla.net/libstroke/ ](http://www.etla.net/libstroke/)得到 libstroke. 下载那个为 FVWM 准备的版本，编译后安装，然后再编译 FVWM，它一般就会找到 libstoke，从而加入 stroke 的功能。

        比如我在屏幕上按住 ctrl, 用右键

            *   画一个 "r" 字就可以启动 rxvt
        *   画一个 "V" 就可以启动 vim
        *   画出 "D" 右边的弧线就可以启动 IBM 智能辞典
        *   画一个 "e" 启动 emacs ...
        *   鼠标左右一晃，就可以启动 xkill，再往某个窗口一点，就可以强制杀死不听话的窗口
        *   在窗口里右键往下一划，就可以最小化窗口
        *   在窗口边框上用右键……
        *   向上拖就可以使窗口往上一直长到被别的窗口挡住的地方
        *   向左拖就可以使窗口往左一直长到被别的窗口挡住的地方
        *   右……下……斜上…… 从边框开始画一个"L"形就可以回复窗口原来大小

当然这些控制方式都是你自己决定的, 这一切只需要在 .fvwm2rc 里加入一些Stroke语句. 因为太多了，写在主配置文件影响编辑, 这些语句被我写到了另一个文件里，然后在主文件用 Read 语句读入。你可以在这里下载我的[fvwm.stroke](http://learn.tsinghua.edu.cn/homepage/2001315450/src/fvwm.strokes)文件作为参考。

你还可以定义非常高级的操作，你甚至可以这样：按住 ctrl, 用鼠标中键画出一条射线箭头指向的那个窗口, 不论它在那个桌面，就会被吸过来，并且随鼠标移动，你点击左键就可以放置它。19.  轨迹stroke 的原理很简单，libstroke 可以识别出你在屏幕上画出的轨迹，把它报告给FVWM，这样FVWM根据轨迹的不同采取不同的操作。轨迹是由一个电话拨号盘的方式确定的。也就是说，把你画出的东西分成9个区域，看你的鼠标依次经过那几个区域。
<pre>                    1  2  3                      4  5  6                      7  8  9</pre>
轨迹也可以用你的小键盘上的数字键来确认。看看你的小键盘：
<pre>                    7  8  9                      4  5  6                      1  2  3</pre>

<ol>
<li><p>Stroke 项目的定义在你的配置文件里写入一些 Stroke 语句：<br><pre>Stroke Sequence Button Context Modifiers Function</pre><br>比如：<br><pre>Stroke N7414789 0 A C Exec exec rxvt Stroke N7414759 0 A C Exec exec rxvt Stroke N74147589 0 A C Exec exec rxvt Stroke N7414756 0 A C Exec exec rxvt Stroke N74156  0 A C Exec exec rxvt Stroke N74159  0 A C Exec exec rxvt</pre><br>Stroke 关键字之后跟上轨迹说明。轨迹是一系列数字，如果数字前面有一个”N”, 就表示我们采用小键盘的布局，而不是电话拨号盘。你看我的那几个轨迹，实际上是我们在写 “r” 字母的时候有可能出现的几种情况。</p>
<p><img src="http://learn.tsinghua.edu.cn/homepage/2001315450/grid.png" alt=""></p>
<p>比如，这个轨迹就是符合 “N7414589”.</p>
<p>轨迹之后是鼠标按键号码。如果号码不是0，那么一旦识别到这个轨迹，就会马上执行操作。但是如果号码是0，那么说明这个定义不是在任何时候识别到就马上进行的。而是当 StrokeFunc 命令被调用的时候才进行。StrokeFunc 为你提供了更多的灵活性。</p>
<p>号码之后是 Context Modifiers Function. 他们跟 Mouse, Key 的那两个同名参数是一个意思，参看 <a href="http://learn.tsinghua.edu.cn/homepage/2001315450/fvwm.html#mouse" target="_blank" rel="external">鼠标和键盘</a>.</p>
</li>
<li><p>StrokeFunc如果你的鼠标号码是0. 那么当 StrokeFunc 被调用的时候，这个轨迹如果被识别，就会执行相应的操作。比如：<br><pre>#Drag mouse 1 on the maxmize button Mouse 1 2 N StrokeFunc DrawMotion</pre><br>现在看到了? 这就是我的最大化按钮上对鼠标左键的绑定。DrawMotion 是 StrokeFunc 的一个可选参数，它可以让轨迹在屏幕上被画出来，这样你可以清楚的看到你到底写了什么。</p>
<p>我有如下的一系列 stroke 定义：<br><pre>#grow horizontal and vertically Stroke N258 0 TSF2 N Maximize True 0 growup Stroke N852 0 TSF2 N Maximize True 0 growdown Stroke N456 0 TSF2 N Maximize True growright 0 Stroke N654 0 TSF2 N Maximize True growleft 0  #grow bidirectional Stroke N25852  0 TSF2 N Maximize True 0 grow Stroke N5852  0 TSF2 N Maximize True 0 grow   ……..  #reverse to unmaximized Stroke N74123 0 TSF2 N Maximize False</pre><br>我的鼠标左键按下”最大化”按钮之后可以进行绘画，然后窗口会随着轨迹的不同而采取各种各样的改变大小的行动！</p>
<p>我还有一个定义：<br><pre>Mouse 3 TSF N StrokeFunc DrawMotion</pre><br>这样鼠标右键在窗口标题栏，边框，frame 上绘画时也会触发 StrokeFunc 函数，达到跟左键在”最大化”按钮上绘画同样的效果。发现了吧？StrokeFunc 为我省去了重复的轨迹定义，否则我需要为”左键+最大化按钮”和”右键在边框”定义两套 stroke.</p>
</li>
<li>实例分析我们来分析一种可能的执行情况：用鼠标左键按下”最大化”按钮(2)，然后向右画。就像这个样子：</li>
</ol>
<p><img src="http://learn.tsinghua.edu.cn/homepage/2001315450/strokeright.png" alt=""></p>
<pre><code>当鼠标左键在&quot;最大化&quot;按钮(2)上按下之后，如果没有键盘控制键按下(N)，而那么根据&quot;Mouse 1 2 N StrokeFunc DrawMotion&quot;, FVWM就会发现应该调用 StrokeFunc.

StrokeFunc 会马上记录鼠标按下的时候有哪些控制键按下了，现在是没有控制键(N).

然后它发现鼠标随即向右画出了一条线，看看你的小键盘，这是N456。StrokeFunc 就会在已经定义的 Stroke 里去找，是否存在这样的一个定义，它的前面部分是
</code></pre><pre>Stroke N456 0 2 N ...</pre>
它发现有一个
<pre>Stroke N456 0 TSF2 N Maximize True growright 0</pre>
它的 Context: TSF2 包含了标题栏按钮2。鼠标动作开始时没有控制键按下，而这个项目的Modifiers里也是N. 那么这是一个符合的项目。所以进行操作 "Maximize True growright 0"：把窗口向右扩大，直到被另一个窗口或者屏幕边沿挡住。

    ![](http://learn.tsinghua.edu.cn/homepage/2001315450/grow.png)

    注意控制键都是在动作开始时就已经记录下来了。如果你在绘画的途中放开了或者按下了控制键是不会改变识别的效果的。
23.  怎样提高识别率通常不要定义太复杂的轨迹，因为变化太多了就不容易识别。左右晃一晃，上下摇一摇，转个圈儿，……已经可以完成你很多任务了。

    如果是复杂的 stroke, 比如写一个字母，你需要定义很多相似的 stroke，否则有时不能匹配。如果你不能确定会出现那些轨迹，你可以给 StrokeFunc 一个参数，比如：
<pre>Mouse 1 2 N StrokeFunc EchoSequence</pre>
然后你在屏幕上多画几次你的那个字母，无论它是否匹配一个定义，FVWM 会在启动它的那个终端输出你画出的轨迹号码。那些就是你写这个字母时有可能出现的轨迹，你把这些序列都加到你的配置文件，这样就提高了识别率。

    注意这个输出号码的终端很有可能是 tty1，在Linux下你需要Ctrl-Alt-F1切换到tty1才能看到输出。如果你不喜欢这么麻烦，你可以在启动X的时候只启动一个 xterm, 然后在这个 xterm 里面启动 fvwm.
24.  键盘触发 Strokestroke 也可以由键盘来触发。比如：
<pre>Key F6 A C StrokeFunc DrawMotion NotStayPressed</pre>
按下 Ctrl-F6 之后，FVWM就会调用 StrokeFunc, 由于我们设定了 NotStayPressed 参数，绘画一直会延续到一个鼠标键按下的时候才结束。这时你就可以用鼠标移动画出一个轨迹，然后按一下鼠标。
25.  模块<a name="modules" title="modules"></a>模块是FVWM可以扩展的奥秘。模块是通过管道跟FVWM通信的程序，它们必须由FVWM启动(fork). 也就是说，你可以从 FvwmConsole 来启动这些模块，也可以用菜单，鼠标，热键……来启动。但是就是不能从 xterm 或者 rxvt 敲入命令来启动它们。

    *   你有没有发现。当你的鼠标移动到窗口后，如果它被别的窗口挡住了，它并不会跑到上面来。如果你想让它自动上来，你可以使用 FvwmAuto 模块来实现一个简单的"自动提升"功能。我的 StartFunction 里有如下内容：
<pre>AddToFunc StartFunction     + I Module FvwmAuto 500 Raise Nop</pre>
其实你还可以用 FvwmAuto 实现非常复杂的自动提升功能。
    *   你想让你的窗口图标化(Iconify) 和取消图标化(Deinconify) 的时候都有漂亮的动画吗？用以下设定来配置你的 FvwmAnimate 模块，然后启动它，就可以有眼花缭乱的效果了 :)
<pre>*FvwmAnimate: Delay 25 *FvwmAnimate: Effect Random *FvwmAnimate: Width 3</pre>
这些行是对 FvwmAnimate 的配置，模块的配置命令都是 "*" 号开始的。
    *   你想要一个 Windows 那样的任务栏吗？启动 FvwmTaskBar 模块就行了。
    *   想要一个 Pager? FvwmPager 可以提供你用不完的功能。参看[FvwmPager](http://learn.tsinghua.edu.cn/homepage/2001315450/fvwm.html#pager).
    *   Drag &amp; Drop? 启动 FvwmDragWell, 就可以让支持 XDND 的程序工作。
    *   你想这样一种功能：每次当名叫 XXX 的程序出现时，就把它大小变为 400x300, 移动到屏幕右边，然后启动一个 rxvt 跟它作伴？用 FvwmEvent 可以轻松达到你的目的。
    *   你想做一个简单的图形界面程序？用 FvwmScript 可以快速的达到你的目的。
    *   写配置文件太冗长了？用 FvwmM4 可以让你用 M4 宏处理语言来预处理配置文件。
    *   你想有更加超级的操纵方式？FvwmPerl 可以让你使用 Perl 脚本的方式来操纵 FVWM.

模块的功能可能很复杂，它们都有自己分别的 manpage. 下面几节我们介绍一些常用的模块。26.  FvwmPager<a name="pager" title="pager"></a>既然 fvwm 有很多工作区。能不能有一个东西可以方便的看到那些工作区上有哪些程序，而且可以方便的切换工作区呢？FvwmPager就是为这个目的设计的。 我的Pager是这个样子：

    ![](http://learn.tsinghua.edu.cn/homepage/2001315450/pager.png)

    FvwmPager有很多可以设定的参数，现在你可以试试这个简单的配置，这就是上面这个 pager 的配置。
<pre>*FvwmPager: Rows 4 *FvwmPager: Columns 1 *FvwmPagerBack #908090 *FvwmPagerFore #484048 *FvwmPager:Font  -*-simsun-medium-r-*-*-14-*-*-*-*-*-*-* *FvwmPagerHilight #cab3ca *FvwmPagerLabel 0 Main *FvwmPagerLabel 1 Internet *FvwmPagerLabel 2 Program *FvwmPagerLabel 3 Amusement *FvwmPager:SmallFont  -*-simsun-medium-r-*-*-12-*-*-*-*-*-*-* *FvwmPagerBalloons            All *FvwmPagerBalloonBack         Yellow *FvwmPagerBalloonFore         Black *FvwmPager:BalloonFont         -*-simsun-medium-r-*-*-14-*-*-*-*-*-*-* *FvwmPagerBalloonYOffset      +2 *FvwmPagerBalloonBorderWidth  1 *FvwmPagerBalloonBorderColor  Black</pre>
这些行是对 FvwmPager 的配置，模块的配置命令都是 "*" 号开始的。 在 FVWM 里启动它:
<pre>Module FvwmPager 0 3</pre>

<ol>
<li><p>FvwmButtons<a name="fvwmbuttons" title="fvwmbuttons"></a>上面的Pager不错吧？不过它总是在屏幕上占那么一块位置，有没有办法让它可以在需要的时候才伸出来呢？你可以用 FvwmButtons 把FvwmPager包装起来实现这个功能。</p>
<p>这里是我的一个简单的配置：<br><pre><em>FvwmButtonsBack bisque3 </em>MainPanel: Geometry 80x18+40+4 <em>MainPanel: Back SeaGreen </em>MainPanel: (Panel(down, indicator, delay 0, steps 1)    PagerPanel “Module FvwmButtons PagerPanel”) <em>MainPanel: Font  -</em>-simsun-medium-r-<em>-</em>-16-<em>-</em>-<em>-</em>-<em>-</em>-<em> </em>PagerPanel: Geometry 80x352 <em>PagerPanel: (Swallow FvwmPager “Module FvwmPager 0 3”) </em>PagerPanel: Font  -<em>-simsun-medium-r-</em>-<em>-16-</em>-<em>-</em>-<em>-</em>-<em>-</em></pre><br>这个FvwmButtons设置了一个 button 叫做 “MainPanel”. 你可以用：<br><pre>Module FvwmButtons MainPanel</pre><br>来启动它. 它启动时是这个样子：</p>
<p><img src="http://learn.tsinghua.edu.cn/homepage/2001315450/buttonclosed.png" alt=""></p>
<p>挂在屏幕左上偏右一点的地方，既没有挡住左边的按钮，又不会挡住窗口的下拉菜单。点一下就会展开，展开以后就是这个样子：</p>
<p><img src="http://learn.tsinghua.edu.cn/homepage/2001315450/buttonopen.png" alt=""> 再点就会缩回去。</p>
<p>FvwmButtons 可以提供的功能远远不止这些。FvwmButtons 是一个非常强大的模块。你有兴趣可以看看它的 manpage.</p>
</li>
<li><p>FAQ<a name="faq" title="faq"></a>这一节来看看我遇到过的一些问题。</p>
<ol>
<li>为什么 FVWM 不能用图片作为背景？不熟悉Xwindow的人经常问这种问题。答案是FVWM确实不能设置复杂的高清晰图片作为背景，但是你却可以用图片作为背景。原因是：设置背景根本不是WM的职责，你需要用其它程序，比如 xloadimage, xv, … 在根窗口上放置一幅图片，那就是所谓的”桌面背景”。你可以把它加入你的启动函数，一个 xloadimage 的例子可以在上面<a href="http://learn.tsinghua.edu.cn/homepage/2001315450/fvwm.html#xloadimage" target="_blank" rel="external"> 看到</a>。</li>
<li><p>FVWM怎么锁定屏幕呢？你又问到一个容易混淆的问题。锁定屏幕也不是WM必须有的功能。几乎所有WM都是调用另外一个程序，比如 xscreensaver 来锁定屏幕和提供屏幕保护，然后在它们的菜单里加入对 xscreensaver 配置程序 xscreensaver-demo 的调用。看起来好像是WM提供了屏幕保护功能，让很多用户模糊了WM的职责。</p>
<p>你可以把 xsreensaver 加入到FVWM的启动函数里。参看<a href="http://learn.tsinghua.edu.cn/homepage/2001315450/fvwm.html#startfunc" target="_blank" rel="external">启动函数和退出函数</a>.</p>
</li>
<li><p>为什么 FVWM 的窗口标题不能显示汉字？FVWM当然能显示汉字了，它是一个国际化的程序。原因在于你没有设置好汉字字体。你可以在配置文件里加入汉字字体的设定：<br><pre>Style <em> Font  -</em>-simsun-medium-r-<em>-</em>-14-<em>-</em>-<em>-</em>-<em>-</em>-<em></em></pre><br>simsun 是我机器上一种同时可以支持汉字和英语编码的字体，如果你的字体只有汉字编码，那么你的英文全部都会”乱码”，这时你需要在后面再加一个英文字体。比如：<br><pre>Style  Font  “-cjacker-magicsong-medium-r-<em>-</em>-14-<em>-</em>-<em>-</em>-<em>-gb2312.1980-0,</em>-r-*”</pre><br>类似的，pager，windowlist 都有自己的字体设定，你需要把它们都设置为你喜欢的中文字体。</p>
<p>另外，据说 FVWM 2.5 以前的版本对汉字支持不好。我没有用过 2.4.x，不知道怎么解决。如果你遇到这个问题就升级到 2.5.x 吧。</p>
</li>
<li>FVWM 有工具条吗？有。启动 FvwmTaskBar 模块就行了。你还可以把它配置的非常漂亮。这里给出一个我的简陋的配置方案。<br><pre>Style FvwmTaskBar HandleWidth 0, BorderWidth 0 <em>FvwmTaskBar: UseSkipList </em>FvwmTaskBar: AutoStick <em>FvwmTaskBar: DeskOnly </em>FvwmTaskBar: Action Click1 DeiconifyRaiseAndFocus <em>FvwmTaskBar: Action Click2 Iconify On </em>FvwmTaskBar: Action Click3 Lower <em>FvwmTaskBar: MailCommand Exec exec rxvt -e mutt </em>FvwmTaskBar: 3DFvwm <em>FvwmTaskBar: StartName FVWM </em>FvwmTaskBar: StartMenu RootMenu <em>FvwmTaskBar: Font  -</em>-simsun-medium-r-<em>-</em>-14-<em>-</em>-<em>-</em>-<em>-</em>-<em> </em>FvwmTaskBar: SelFont  -<em>-simsun-medium-r-</em>-<em>-14-</em>-<em>-</em>-<em>-</em>-<em>-</em> <em>FvwmTaskBar: ShowTips </em>FvwmTaskBar: ClockFormat  <em>FvwmTaskBar: WindowButtonsRightMargin 20   </em>FvwmTaskBar: Back seagreen <em>FvwmTaskBar: Fore gold2 </em>FvwmTaskBar: FocusFore cornsilk <em>FvwmTaskBar: IconBack darkgreen </em>FvwmTaskBar: IconFore white</pre><br>另外，FvwmButtons 模块提供了更加复杂的功能。你可以把很多小程序(xclock,biff…)和模块(FvwmIconMan)嵌入到它里面。形成一个复杂的工具条。详情请 man FvwmButtons。你也可以使用 KDE 的 kicker 工具条和 Gnome 的 gnome-panel. 请看<a href="http://learn.tsinghua.edu.cn/homepage/2001315450/fvwm.html#gnomekde" target="_blank" rel="external"> 后面</a>。</li>
<li>FVWM 能不能像 Windows 那样用 Alt-Tab 切换窗口？能。把这行加入 .fvwm2rc:<br><pre>Key Tab A M WindowList Root c c NoDeskSort</pre><br>这个绑定不知道什么时候好像成了 FVWM 缺省的。如果你不喜欢，那么加入：<br><pre>Key Tab A M -</pre><br>取消这个定义。</li>
<li><p>我不想要鼠标移动到窗口上就自动聚焦的方式怎么办？FVWM 缺省的聚焦方式是 MouseFocus，也就是说，鼠标如果移动到哪个窗口，那个窗口就得到键盘聚焦。如果你想用 Windows 那样的需要点击鼠标才聚焦，那么你可以用 ClickToFocus 方式：</p>
<pre>Style * ClickToFocus, ClickToFocusPassesClick</pre>

<ol>
<li><p>我用 MouseFocus 方式，可是当我的一个窗口被 Lower 后，我只能把鼠标移到其它窗口再移回来才能重新提升它。缺省的 MouseFocus 方式不会在点击时提升窗口。如果你想点击窗口时提升它，那么加入配置：</p>
<pre>Style * MouseFocusClickRaises</pre>
</li>
<li><p>怎样才能使窗口获得焦点后自动提升？你需要使用 FvwmAuto 模块。把 FvwmAuto 加入你的起动函数：</p>
<pre>AddToFunc StartFunction     + I Module FvwmAuto 500 Raise Nop</pre>
</li>
<li><p>为什么 Acrobat Reader 打开一个全屏 PDF 文件后，还原为窗口还是不能移动？把这行加到你的配置文件就行了：</p>
<pre>Style "AcroRead" VariablePosition, VariableUSPosition</pre>
</li>
<li><p>怎样才能让 ImageMagick 或者 Gimp 的几个小窗口同时提升或者下降呢？把这行加到你的配置文件就行了：</p>
<pre>Style "Display" RaiseTransient LowerTransient StackTransientParent Style "Gimp" RaiseTransient LowerTransient StackTransientParent</pre>
</li>
<li><p>屏幕保护出现时，XSIM 输入法的状态窗口为什么不消失呢？这是 XSIM 的一个 bug, 它设置了状态窗口的 OverrideRedirect 属性以至于没有窗口管理器能够管理它。我已经帮助修正了这个 bug。你只需要在 plugins/StatusPanels/std/statuspanel_std.cpp 的<br><pre>TWstring <em> TStatusPanel_STD::create(Obj_Config </em> conf, Status_Pack * sp)</pre><br>函数末尾 return NULL; 之前加入以下两行：<br><pre>wa.override_redirect = False; set_winattr(CWOverrideRedirect, &amp;wa);</pre><br>问题就已经解决了。</p>
</li>
</ol>
<p>如果你还不满意，你想让 FVWM 可以设定 xsim 的样式，那么你可以把这个函数中设置 OverrideRedirect 的那几行代码去掉。<br><pre>/<em> XSetWindowAttributes wa; wa.override_redirect = True; set_winattr(CWOverrideRedirect, &amp;wa); </em>/</pre><br>自己设置它的属性。我们可以给它边框，也可以不给它边框。你可以把这些配置写到你的 .fvwm2rc 得到一个比较好的效果。<br><pre>Style “XSIM”    Layer 7, NoTitle, HandleWidth 1, Sticky, WindowListSkip</pre><br>注意如果去掉了 OverrideRedirect 属性，在某些不能随意定制窗口样式的窗口管理器里，状态窗口会被包上厚重的标题栏和边框！</p>
<p>你可以试试 <a href="http://www.fcitx.org/" target="_blank" rel="external">fcitx 输入法服务器</a>。我现在换用这个了。我觉得比 XSIM 好用。直接安好就可以了，没有以上问题 :)</p>
</li>
<li><p>FVWM 能和KDE, Gnome 一起工作吗？<a name="gnomekde" title="gnomekde"></a>KDE 和 Gnome 都是完整的桌面系统，包括了WM和其它很多东西。FVWM 只是一个WM。FVWM可以替代 KDE 缺省的 kwin，或者 Gnome 缺省的 sawfish 成为它们的WM。</p>
<ul>
<li><p>只用KDE和Gnome的工具条很多时候 Gnome 和 KDE 的程序是跟他们的桌面系统可以分开使用的。其实你有可能只需要它们漂亮的panel。</p>
<p>Gnome 的工具条叫做 gnome-panel, 在 xterm 启动一个就行了。</p>
<p>KDE 的工具条叫做 kicker. 注意 KDE 有些程序需要 dcopserver, 你可以先启动 dcopserver。</p>
<p>KDE 和 gnome 的panel上的pager和fvwm的FvwmPager都是相通的，所以你可以用它们任何一个来切换桌面 :)</p>
<p>如果你在kde的任务条用右键选择”总在最前”可能不起作用，因为现在它们得完全听fvwm的话不过你可以给它们额外的权力，请参考fvwm manpage 的有关EWMH 的部分</p>
<ul>
<li>完全启动Gnome和KDE与FVWM一起工作还有些kde程序不知道用了什么通信方式，启动后就dump了。你可以用 startkde 来启动整个 KDE 系统。一般来说它们都可以与fvwm一起很好的工作。</li>
</ul>
<p>Gnome 的启动命令叫做 gnome-session. 它也可以完全与 fvwm 一起工作。</p>
<p>这样你就可以用 fvwm 的方式来控制所有桌面系统的窗口了。嘿嘿<br><li>特种技巧<a name="trick" title="trick"></a></li></p>
</li>
</ul>
</li>
</ol>
</li>
<li><p>即时战略游戏式的控制窗口很多即时战略游戏都可以对士兵等进行分组比如选定一组士兵后按 Ctrl-Alt-1，可以把一组士兵标记为第1小分队以后按 Ctrl-1 就可以让这些士兵待命。</p>
<p>其实FVWM可以很容易把一些窗口当成士兵。只要把这些行加入 .fvwm2rc<br><pre>Key 0 WI MC Key 0 A C WindowId $[<a href="http://w.id" target="_blank" rel="external">w.id</a>] WarpToWindow 50 50 Key 1 WI MC Key 1 A C WindowId $[<a href="http://w.id" target="_blank" rel="external">w.id</a>] WarpToWindow 50 50 Key 2 WI MC Key 2 A C WindowId $[<a href="http://w.id" target="_blank" rel="external">w.id</a>] WarpToWindow 50 50 …. Key 9 WI MC Key 9 A C WindowId $[<a href="http://w.id" target="_blank" rel="external">w.id</a>] WarpToWindow 50 50</pre><br>聚焦一个窗口后按 Ctrl-Alt-n, 就把它标记为n号。以后不论什么时候按 Ctrl-n，就会回到这个窗口。</p>
<p>$[<a href="http://w.id" target="_blank" rel="external">w.id</a>] 是 FVWM 2.5.6 以后使用的表示窗口id的变量。较老版本的FVWM使用 $w 来表示窗口id。 2.4.x 的用户试试：<br><pre>Key 0 WI MC Key 0 A C WindowId $w WarpToWindow 50 50 Key 1 WI MC Key 1 A C WindowId $w WarpToWindow 50 50 Key 2 WI MC Key 2 A C WindowId $w WarpToWindow 50 50 …. Key 9 WI MC Key 9 A C WindowId $w WarpToWindow 50 50</pre><br>这显示 Key 等命令全都可以嵌套使用！当然你可以用类似的办法得到更令人惊讶的效果！just imagine!</p>
<p>…………….</p>
<p>…………….</p>
<p>想到了吗？好了，来看看一个更超级的用法。在你的 .fvwm2rc 加入这些：<br><pre>Key 0 WI SC State 0 Key 1 WI SC State 1 Key 2 WI SC State 2 Key 3 WI SC State 3 Key 4 WI SC State 4 Key 5 WI SC State 5 Key 6 WI SC State 6 Key 7 WI SC State 7 Key 8 WI SC State 8 Key 9 WI SC State 9 Key a WI SC State 10 ….  DestroyFunc GroupFunc AddToFunc GroupFunc I Layer 1 + I MoveToPage + I Iconify off + I Raise  Key 0 A M All (State 0) GroupFunc Key 1 A M All (State 1) GroupFunc Key 2 A M All (State 2) GroupFunc Key 3 A M All (State 3) GroupFunc Key 4 A M All (State 4) GroupFunc Key 5 A M All (State 5) GroupFunc Key 6 A M All (State 6) GroupFunc Key 7 A M All (State 7) GroupFunc Key 8 A M All (State 8) GroupFunc Key 9 A M All (State 9) GroupFunc Key a A M All (State 10) GroupFunc ….</pre><br>以后按 Ctrl-Shift-n，就可以把当前聚焦窗口设置为”第n组”(State n)。n 可以从 0 到 31。以后我们可以按 Alt-n 来把第n组的窗口都移动到当前 page，全部 deiconify 并且提升–待命！</p>
<p>你是否听到那些窗口在说：”Yes, Sir?” 你能想出更好玩的用法吗？发挥你的想象力吧！<br></p></li><br><li>我的 .fvwm2rc 和 fvwm.stroke<a name="myfvwm2rc" title="myfvwm2rc"></a>这里给出我自己的 .fvwm2rc 和 fvwm.strokes 文件作为参考。我自认为不是很漂亮，但是却很方便。fvwm.strokes 是被 Read 命令读入 .fvwm2rc 的。<p></p>
</li>
</ol>
<p>我的配置文件定义了很多奇怪的热键加鼠标的用法，还有 stroke。你肯定不希望马上拷贝到你的目录里使用，因为你会不知道怎么用了 :)</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2007/03/22/e5-90-84-e7-a7-8d-e5-b7-a5-e5-85-b7-e4-b9-8b-e6-ad-a3-e5-88-99-e8-a1-a8-e8-be-be-e5-bc-8f-e8-af-ad-e6-b3-95-e6-af-94-e8-be-83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="九王爷">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九王爷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2007/03/22/e5-90-84-e7-a7-8d-e5-b7-a5-e5-85-b7-e4-b9-8b-e6-ad-a3-e5-88-99-e8-a1-a8-e8-be-be-e5-bc-8f-e8-af-ad-e6-b3-95-e6-af-94-e8-be-83/" itemprop="url">
                  各种工具之正则表达式语法比较
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2007-03-22T03:27:00+08:00">
                2007-03-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <table border="1" style="font-size: 10pt"><br><tr><br><td style="font-weight: bold; color: white; background-color: darkgreen"></td><br><td style="font-weight: bold; color: white; background-color: darkgreen">grep 2.5.1</td><br><td style="font-weight: bold; color: white; background-color: darkgreen">egrep 2.5.1</td><br><td style="font-weight: bold; color: white; background-color: darkgreen">sed 3.02<br>sed 4.07</td><br><td style="font-weight: bold; color: white; background-color: darkgreen">awk 3.1.1</td><br><td style="font-weight: bold; color: white; background-color: darkgreen">perl 5.8.0</td><br><td style="font-weight: bold; color: white; background-color: darkgreen">vim 6.1</td><br><td style="font-weight: bold; color: white; background-color: darkgreen">JavaScript ??</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">转义</td><br><td></td><br><td></td><br><td></td><br><td></td><br><td style="background-color: lightyellow"></td><br><td></td><br><td></td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">行头</td><br><td>^</td><br><td>^</td><br><td>^</td><br><td>^</td><br><td style="background-color: lightyellow">^</td><br><td>^</td><br><td>^</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">行尾</td><br><td>$</td><br><td>$</td><br><td>$</td><br><td>$</td><br><td style="background-color: lightyellow">$</td><br><td>$</td><br><td>$</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">n个 {n} {m,n} {m,} {,n}</td><br><td style="background-color: pink">{n}</td><br><td>{n}</td><br><td style="background-color: pink">{n}</td><br><td style="background-color: pink">{n}或{n} 仅定义 –posix 或 –re-interval有效(要表达}和{,得用{和} 没有定义–posix或–re-interval时,不能用{n}的语法, }{和}{同义</td><br><td style="background-color: lightyellow">{n}</td><br><td style="background-color: pink">{n}</td><br><td>{n}</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">{0,}</td><br><td><em></em></td><br><td></td><br><td><em></em></td><br><td style="background-color: pink">或<em>, (要表达</em>,得用*)</td><br><td style="background-color: lightyellow"><em></em></td><br><td></td><br><td>*</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">{1,}</td><br><td style="background-color: pink">+</td><br><td>+</td><br><td style="background-color: pink">+</td><br><td style="background-color: pink">+或+, (要表达+, 得用+)</td><br><td style="background-color: lightyellow">+</td><br><td style="background-color: pink">+</td><br><td>+</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">{0,1}</td><br><td style="background-color: pink">?</td><br><td>?</td><br><td style="background-color: pink">?</td><br><td style="background-color: pink">?或?, (要表达?, 得用\?)</td><br><td style="background-color: lightyellow">?</td><br><td style="background-color: pink">?</td><br><td>?</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">任意字符</td><br><td style="background-color: pink">.</td><br><td style="background-color: pink">.</td><br><td style="background-color: pink">.</td><br><td style="background-color: pink">. 含n.</td><br><td style="background-color: lightyellow">. /s修饰后则含n</td><br><td style="background-color: pink">. 除n</td><br><td style="background-color: pink">. 除n</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">(pat) 匹配并获结果</td><br><td style="background-color: pink">(pat)</td><br><td>(pat)</td><br><td style="background-color: pink">(pat)</td><br><td style="background-color: pink">(pat)或(pat) (要表达括号,用( ) )</td><br><td style="background-color: lightyellow">(pat)</td><br><td style="background-color: pink">(pat)</td><br><td>(pat)</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">(?:pat) 匹配但不获结果</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: lightyellow">(?:pat)</td><br><td style="background-color: pink">不支持</td><br><td>(?:pat)</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">(?=pat) 等于预查</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: lightyellow">(?=pat)</td><br><td style="background-color: pink">不支持</td><br><td>(?=pat)</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">(?!pat) 不等预查</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: lightyellow">(?!pat)</td><br><td style="background-color: pink">不支持</td><br><td>(?!pat)</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">| 或</td><br><td style="background-color: pink">|</td><br><td>|</td><br><td style="background-color: pink">|</td><br><td style="background-color: pink">|或| (要表达|,得用|)</td><br><td style="background-color: lightyellow">|</td><br><td style="background-color: pink">|</td><br><td>|</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">其中任意字符</td><br><td>[xyz]</td><br><td>[xyz]</td><br><td>[xyz]</td><br><td>[xyz]</td><br><td style="background-color: lightyellow">[xyz]</td><br><td>[xyz]</td><br><td>[xyz]</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[.ch.] [=ch=]</td><br><td>不支持</td><br><td>不支持</td><br><td style="background-color: pink">[.ch.]</td><br><td>不支持</td><br><td style="background-color: lightyellow">不支持</td><br><td>不支持</td><br><td>不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">单词边界 b</td><br><td>b</td><br><td>b</td><br><td>b</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: lightyellow">b</td><br><td style="background-color: pink">不支持</td><br><td>b</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">非单词边界 B</td><br><td>B</td><br><td>B</td><br><td>B</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: lightyellow">B</td><br><td style="background-color: pink">不支持</td><br><td>B</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">单词左右边界 &lt;&gt;</td><br><td style="background-color: pink">&lt; &gt;</td><br><td style="background-color: pink">&lt; &gt;</td><br><td style="background-color: pink">&lt; &gt;</td><br><td style="background-color: pink">不支持 (&gt;&lt;和&gt;&lt;和\&gt;\&lt;同义</td><br><td style="background-color: lightyellow">不支持(&gt;&lt;和&gt;&lt;同义</td><br><td style="background-color: pink">&lt; &gt;</td><br><td>不支持(&gt;&lt;和&gt;&lt;同义</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">控制字符 /cx</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td>cx</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: lightyellow">cx</td><br><td style="background-color: pink">不支持</td><br><td>cx</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">数字d</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: lightyellow">d</td><br><td>d</td><br><td>d</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">非数字D</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: lightyellow">D</td><br><td>D</td><br><td>D</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">换页 f</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">高版本支持</td><br><td>f</td><br><td style="background-color: lightyellow">f</td><br><td style="background-color: pink">另义 f表示文件名字符</td><br><td>f</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">换行 n</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td>n</td><br><td style="background-color: lightyellow">n</td><br><td>n</td><br><td>n</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">回车 r</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td>r</td><br><td>r</td><br><td style="background-color: lightyellow">r</td><br><td>r</td><br><td>r</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">空白 s</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: lightyellow">s</td><br><td>s</td><br><td>s</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">非空白 S</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: lightyellow">S</td><br><td>S</td><br><td>S</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">制表符 t</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">高版本支持</td><br><td>t</td><br><td style="background-color: lightyellow">t</td><br><td>t</td><br><td>t</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">垂直制表符 v</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">高版本支持</td><br><td>v</td><br><td style="background-color: lightyellow">v</td><br><td style="background-color: pink">另义 v表示very magic</td><br><td>v</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">单词字符 w [A-Za-z0-9_]</td><br><td>w</td><br><td>w</td><br><td>w</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: lightyellow">w</td><br><td>w</td><br><td>w</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">非单词字符 W [^A-Za-z0-9]</td><br><td>W</td><br><td>W</td><br><td>W</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: lightyellow">W</td><br><td>W</td><br><td>W</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">xn 16进制</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">高版本支持</td><br><td>xn</td><br><td style="background-color: lightyellow">xn</td><br><td style="background-color: pink">另义 x表示[0-9A-Za-z]</td><br><td>xn</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">n 八进制</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td style="background-color: pink">不支持</td><br><td>n</td><br><td style="background-color: lightyellow">n</td><br><td style="background-color: pink">不支持</td><br><td>n</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">n 后向引用</td><br><td>n</td><br><td>n</td><br><td>n</td><br><td style="background-color: pink">n 仅取结果可用</td><br><td style="background-color: lightyellow">n</td><br><td style="background-color: pink">n 仅取结果可用</td><br><td>n</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:alnum:] 字母和数字</td><br><td>[:alnum:]</td><br><td>[:alnum:]</td><br><td>[:alnum:]</td><br><td>[:alnum:]</td><br><td style="background-color: lightyellow">[:alnum:]</td><br><td>[:alnum:]</td><br><td style="background-color: pink">不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:alpha:] 字母</td><br><td>[:alpha:]</td><br><td>[:alpha:]</td><br><td>[:alpha:]</td><br><td>[:alpha:]</td><br><td style="background-color: lightyellow">[:alpha:]</td><br><td>[:alpha:]</td><br><td style="background-color: pink">不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:cntrl:] 控制字符</td><br><td>[:cntrl:]</td><br><td>[:cntrl:]</td><br><td>[:cntrl:]</td><br><td>[:cntrl:]</td><br><td style="background-color: lightyellow">[:cntrl:]</td><br><td>[:cntrl:]</td><br><td style="background-color: pink">不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:digit:] 数字</td><br><td>[:digit:]</td><br><td>[:digit:]</td><br><td>[:digit:]</td><br><td>[:digit:]</td><br><td style="background-color: lightyellow">[:digit:]</td><br><td>[:digit:]</td><br><td style="background-color: pink">不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:graph:] 可打印字符（不含空格）</td><br><td>[:graph:]</td><br><td>[:graph:]</td><br><td>[:graph:]</td><br><td>[:graph:]</td><br><td style="background-color: lightyellow">[:graph:]</td><br><td>[:graph:]</td><br><td style="background-color: pink">不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:lower:] 小写</td><br><td>[:lower:]</td><br><td>[:lower:]</td><br><td>[:lower:]</td><br><td>[:lower:]</td><br><td style="background-color: lightyellow">[:lower:]</td><br><td>[:lower:]</td><br><td style="background-color: pink">不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:print:] 可打印字符（含空格）</td><br><td>[:print:]</td><br><td>[:print:]</td><br><td>[:print:]</td><br><td>[:print:]</td><br><td style="background-color: lightyellow">[:print:]</td><br><td>[:print:]</td><br><td style="background-color: pink">不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:punct:] 标点</td><br><td>[:punct:]</td><br><td>[:punct:]</td><br><td>[:punct:]</td><br><td>[:punct:]</td><br><td style="background-color: lightyellow">[:punct:]</td><br><td>[:punct:]</td><br><td style="background-color: pink">不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:space:] 空格</td><br><td>[:space:]</td><br><td>[:space:]</td><br><td>[:space:]</td><br><td>[:space:]</td><br><td style="background-color: lightyellow">[:space:]</td><br><td>[:space:]</td><br><td style="background-color: pink">不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:upper:] 大写字母</td><br><td>[:upper:]</td><br><td>[:upper:]</td><br><td>[:upper:]</td><br><td>[:upper:]</td><br><td style="background-color: lightyellow">[:upper:]</td><br><td>[:upper:]</td><br><td style="background-color: pink">不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:xdigit:] 16进制数字</td><br><td>[:xdigit:]</td><br><td>[:xdigit:]</td><br><td>[:xdigit:]</td><br><td>[:xdigit:]</td><br><td style="background-color: lightyellow">[:xdigit:]</td><br><td>[:xdigit:]</td><br><td style="background-color: pink">不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:return:]</td><br><td>不支持</td><br><td>不支持</td><br><td>不支持</td><br><td>不支持</td><br><td style="background-color: lightyellow">不支持</td><br><td style="background-color: pink">[:return:]</td><br><td>不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:tab:]</td><br><td>不支持</td><br><td>不支持</td><br><td>不支持</td><br><td>不支持</td><br><td style="background-color: lightyellow">不支持</td><br><td style="background-color: pink">[:tab:]</td><br><td>不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:escape:]</td><br><td>不支持</td><br><td>不支持</td><br><td>不支持</td><br><td>不支持</td><br><td style="background-color: lightyellow">不支持</td><br><td style="background-color: pink">[:escape:]</td><br><td>不支持</td><br></tr><br><tr><br><td style="font-weight: bold; color: white; background-color: green">[:backspace:]</td><br><td>不支持</td><br><td>不支持</td><br><td>不支持</td><br><td>不支持</td><br><td style="background-color: lightyellow">不支持</td><br><td style="background-color: pink">[:backspace:]</td><br><td>不支持</td><br></tr><br></table>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2007/02/08/shell-e6-9d-a1-e4-bb-b6-e5-88-a4-e6-96-ad-e6-80-bb-e7-bb-93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="九王爷">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九王爷">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2007/02/08/shell-e6-9d-a1-e4-bb-b6-e5-88-a4-e6-96-ad-e6-80-bb-e7-bb-93/" itemprop="url">
                  Shell 条件判断总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2007-02-08T12:28:00+08:00">
                2007-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>UNIX Shell 编程<br>一些条件判断 总结<br>-b file 若文件存在且是一个块特殊文件，则为真<br>-c file 若文件存在且是一个字符特殊文件，则为真<br>-d file 若文件存在且是一个目录，则为真<br>-e file 若文件存在，则为真<br>-f file 若文件存在且是一个规则文件，则为真<br>-g file 若文件存在且设置了SGID位的值，则为真<br>-h file 若文件存在且为一个符合链接，则为真<br>-k file 若文件存在且设置了”sticky”位的值<br>-p file 若文件存在且为一已命名管道，则为真<br>-r file 若文件存在且可读，则为真<br>-s file 若文件存在且其大小大于零，则为真<br>-u file 若文件存在且设置了SUID位，则为真<br>-w file 若文件存在且可写，则为真<br>-x file 若文件存在且可执行，则为真<br>-o file 若文件存在且被有效用户ID所拥有，则为真<br>-z string 若string长度为0，则为真<br>-n string 若string长度不为0，则为真<br>string1 = string2 若两个字符串相等，则为真<br>string1 != string2 若两个字符串不相等，则为真<br>int1 -eq int2 若int1等于int2，则为真<br>int1 -ne int2 若int1不等于int2，则为真<br>int1 -lt int2 若int1小于int2，则为真<br>int1 -le int2 若int1小于等于int2，则为真<br>int1 -gt int2 若int1大于int2，则为真<br>int1 -ge int2 若int1大于等于int2，则为真<br>!expr 若expr为假则复合表达式为真。expr可以是任何有效的测试表达式<br>expr1 -a expr2 若expr1和expr2都为真则整式为真<br>expr1 -o expr2 若expr1和expr2有一个为真则整式为真<br>特殊变量<br>$0 正在被执行命令的名字。对于shell脚本而言，这是被激活命令的路径<br>$n 该变量与脚本被激活时所带的参数相对应。n是正整数，与参数位置相对应($1,$2…)<br>$# 提供脚本的参数号<br>$<em> 所有这些参数都被双引号引住。若一个脚本接收两个参数，$</em>等于$1$2<br>$@ 所有这些参数都分别被双引号引住。若一个脚本接收到两个参数，$@等价于$1$2<br>$? 前一个命令执行后的退出状态<br>$$ 当前shell的进程号。对于shell脚本，这是其正在执行时的进程ID<br>$! 前一个后台命令的进程号</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/23/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><span class="page-number current">24</span><a class="page-number" href="/page/25/">25</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="extend next" rel="next" href="/page/25/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="九王爷" />
          <p class="site-author-name" itemprop="name">九王爷</p>
           
              <p class="site-description motion-element" itemprop="description">这里是外宅，备份用的</p>
          
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">269</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">38</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">九王爷</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


  

</body>
</html>
